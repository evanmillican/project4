/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-position-align",function(e,t){function c(e){}var n=e.Lang,r="align",i="alignOn",s="visible",o="boundingBox",u="offsetWidth",a="offsetHeight",f="region",l="viewportRegion";c.ATTRS={align:{value:null},centered:{setter:"_setAlignCenter",lazyAdd:!1,value:!1},alignOn:{value:[],validator:e.Lang.isArray}},c.TL="tl",c.TR="tr",c.BL="bl",c.BR="br",c.TC="tc",c.RC="rc",c.BC="bc",c.LC="lc",c.CC="cc",c.prototype={initializer:function(){this._posNode||e.error("WidgetPosition needs to be added to the Widget, before WidgetPositionAlign is added"),e.after(this._bindUIPosAlign,this,"bindUI"),e.after(this._syncUIPosAlign,this,"syncUI")},_posAlignUIHandles:null,destructor:function(){this._detachPosAlignUIHandles()},_bindUIPosAlign:function(){this.after("alignChange",this._afterAlignChange),this.after("alignOnChange",this._afterAlignOnChange),this.after("visibleChange",this._syncUIPosAlign)},_syncUIPosAlign:function(){var e=this.get(r);this._uiSetVisiblePosAlign(this.get(s)),e&&this._uiSetAlign(e.node,e.points)},align:function(e,t){return arguments.length?this.set(r,{node:e,points:t}):this._syncUIPosAlign(),this},centered:function(e){return this.align(e,[c.CC,c.CC])},_setAlignCenter:function(e){return e&&this.set(r,{node:e===!0?null:e,points:[c.CC,c.CC]}),e},_uiSetAlign:function(t,r){if(!n.isArray(r)||r.length!==2){e.error("align: Invalid Points Arguments");return}var i=this._getRegion(t),s,o,u;if(!i)return;s=r[0],o=r[1];switch(o){case c.TL:u=[i.left,i.top];break;case c.TR:u=[i.right,i.top];break;case c.BL:u=[i.left,i.bottom];break;case c.BR:u=[i.right,i.bottom];break;case c.TC:u=[i.left+Math.floor(i.width/2),i.top];break;case c.BC:u=[i.left+Math.floor(i.width/2),i.bottom];break;case c.LC:u=[i.left,i.top+Math.floor(i.height/2)];break;case c.RC:u=[i.right,i.top+Math.floor(i.height/2)];break;case c.CC:u=[i.left+Math.floor(i.width/2),i.top+Math.floor(i.height/2)];break;default:}u&&this._doAlign(s,u[0],u[1])},_uiSetVisiblePosAlign:function(e){e?this._attachPosAlignUIHandles():this._detachPosAlignUIHandles()},_attachPosAlignUIHandles:function(){if(this._posAlignUIHandles)return;var t=this.get(o),n=e.bind(this._syncUIPosAlign,this),r=[];e.Array.each(this.get(i),function(i){var s=i.eventName,o=e.one(i.node)||t;s&&r.push(o.on(s,n))}),this._posAlignUIHandles=r},_detachPosAlignUIHandles:function(){var t=this._posAlignUIHandles;t&&((new e.EventHandle(t)).detach(),this._posAlignUIHandles=null)},_doAlign:function(e,t,n){var r=this._posNode,i;switch(e){case c.TL:i=[t,n];break;case c.TR:i=[t-r.get(u),n];break;case c.BL:i=[t,n-r.get(a)];break;case c.BR:i=[t-r.get(u),n-r.get(a)];break;case c.TC:i=[t-r.get(u)/2,n];break;case c.BC:i=[t-r.get(u)/2,n-r.get(a)];break;case c.LC:i=[t,n-r.get(a)/2];break;case c.RC:i=[t-r.get(u),n-r.get(a)/2];break;case c.CC:i=[t-r.get(u)/2,n-r.get(a)/2];break;default:}i&&this.move(i)},_getRegion:function(t){var n;return t?(t=e.Node.one(t),t&&(n=t.get(f))):n=this._posNode.get(l),n},_afterAlignChange:function(e){var t=e.newVal;t&&this._uiSetAlign(t.node,t.points)},_afterAlignOnChange:function(e){this._detachPosAlignUIHandles(),this.get(s)&&this._attachPosAlignUIHandles()}},e.WidgetPositionAlign=c},"3.11.0",{requires:["widget-position"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-stack",function(e,t){function O(e){}var n=e.Lang,r=e.UA,i=e.Node,s=e.Widget,o="zIndex",u="shim",a="visible",f="boundingBox",l="renderUI",c="bindUI",h="syncUI",p="offsetWidth",d="offsetHeight",v="parentNode",m="firstChild",g="ownerDocument",y="width",b="height",w="px",E="shimdeferred",S="shimresize",x="visibleChange",T="widthChange",N="heightChange",C="shimChange",k="zIndexChange",L="contentUpdate",A="stacked";O.ATTRS={shim:{value:r.ie==6},zIndex:{value:0,setter:"_setZIndex"}},O.HTML_PARSER={zIndex:function(e){return this._parseZIndex(e)}},O.SHIM_CLASS_NAME=s.getClassName(u),O.STACKED_CLASS_NAME=s.getClassName(A),O.SHIM_TEMPLATE='<iframe class="'+O.SHIM_CLASS_NAME+'" frameborder="0" title="Widget Stacking Shim" src="javascript:false" tabindex="-1" role="presentation"></iframe>',O.prototype={initializer:function(){this._stackNode=this.get(f),this._stackHandles={},e.after(this._renderUIStack,this,l),e.after(this._syncUIStack,this,h),e.after(this._bindUIStack,this,c)},_syncUIStack:function(){this._uiSetShim(this.get(u)),this._uiSetZIndex(this.get(o))},_bindUIStack:function(){this.after(C,this._afterShimChange),this.after(k,this._afterZIndexChange)},_renderUIStack:function(){this._stackNode.addClass(O.STACKED_CLASS_NAME)},_parseZIndex:function(e){var t;return!e.inDoc()||e.getStyle("position")==="static"?t="auto":t=e.getComputedStyle("zIndex"),t==="auto"?null:t},_setZIndex:function(e){return n.isString(e)&&(e=parseInt(e,10)),n.isNumber(e)||(e=0),e},_afterShimChange:function(e){this._uiSetShim(e.newVal)},_afterZIndexChange:function(e){this._uiSetZIndex(e.newVal)},_uiSetZIndex:function(e){this._stackNode.setStyle(o,e)},_uiSetShim:function(e){e?(this.get(a)?this._renderShim():this._renderShimDeferred(),r.ie==6&&this._addShimResizeHandlers()):this._destroyShim()},_renderShimDeferred:function(){this._stackHandles[E]=this._stackHandles[E]||[];var e=this._stackHandles[E],t=function(e){e.newVal&&this._renderShim()};e.push(this.on(x,t))},_addShimResizeHandlers:function(){this._stackHandles[S]=this._stackHandles[S]||[];var e=this.sizeShim,t=this._stackHandles[S];t.push(this.after(x,e)),t.push(this.after(T,e)),t.push(this.after(N,e)),t.push(this.after(L,e))},_detachStackHandles:function(e){var t=this._stackHandles[e],n;if(t&&t.length>0)while(n=t.pop())n.detach()},_renderShim:function(){var e=this._shimNode,t=this._stackNode;e||(e=this._shimNode=this._getShimTemplate(),t.insertBefore(e,t.get(m)),this._detachStackHandles(E),this.sizeShim())},_destroyShim:function(){this._shimNode&&(this._shimNode.get(v).removeChild(this._shimNode),this._shimNode=null,this._detachStackHandles(E),this._detachStackHandles(S))},sizeShim:function(){var e=this._shimNode,t=this._stackNode;e&&r.ie===6&&this.get(a)&&(e.setStyle(y,t.get(p)+w),e.setStyle(b,t.get(d)+w))},_getShimTemplate:function(){return i.create(O.SHIM_TEMPLATE,this._stackNode.get(g))}},e.WidgetStack=O},"3.11.0",{requires:["base-build","widget"],skinnable:!0});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-position-constrain",function(e,t){function m(e){}var n="constrain",r="constrain|xyChange",i="constrainChange",s="preventOverlap",o="align",u="",a="bindUI",f="xy",l="x",c="y",h=e.Node,p="viewportRegion",d="region",v;m.ATTRS={constrain:{value:null,setter:"_setConstrain"},preventOverlap:{value:!1}},v=m._PREVENT_OVERLAP={x:{tltr:1,blbr:1,brbl:1,trtl:1},y:{trbr:1,tlbl:1,bltl:1,brtr:1}},m.prototype={initializer:function(){this._posNode||e.error("WidgetPosition needs to be added to the Widget, before WidgetPositionConstrain is added"),e.after(this._bindUIPosConstrained,this,a)},getConstrainedXY:function(e,t){t=t||this.get(n);var r=this._getRegion(t===!0?null:t),i=this._posNode.get(d);return[this._constrain(e[0],l,i,r),this._constrain(e[1],c,i,r)]},constrain:function(e,t){var r,i,s=t||this.get(n);s&&(r=e||this.get(f),i=this.getConstrainedXY(r,s),(i[0]!==r[0]||i[1]!==r[1])&&this.set(f,i,{constrained:!0}))},_setConstrain:function(e){return e===!0?e:h.one(e)},_constrain:function(e,t,n,r){if(r){this.get(s)&&(e=this._preventOverlap(e,t,n,r));var i=t==l,o=i?r.width:r.height,u=i?n.width:n.height,a=i?r.left:r.top,f=i?r.right-u:r.bottom-u;if(e<a||e>f)u<o?e<a?e=a:e>f&&(e=f):e=a}return e},_preventOverlap:function(e,t,n,r){var i=this.get(o),s=t===l,a,f,c,h,p,d;return i&&i.points&&v[t][i.points.join(u)]&&(f=this._getRegion(i.node),f&&(a=s?n.width:n.height,c=s?f.left:f.top,h=s?f.right:f.bottom,p=s?f.left-r.left:f.top-r.top,d=s?r.right-f.right:r.bottom-f.bottom),e>c?d<a&&p>a&&(e=c-a):p<a&&d>a&&(e=h)),e},_bindUIPosConstrained:function(){this.after(i,this._afterConstrainChange),this._enableConstraints(this.get(n))},_afterConstrainChange:function(e){this._enableConstraints(e.newVal)},_enableConstraints:function(e){e?(this.constrain(),this._cxyHandle=this._cxyHandle||this.on(r,this._constrainOnXYChange)):this._cxyHandle&&(this._cxyHandle.detach(),this._cxyHandle=null)},_constrainOnXYChange:function(e){e.constrained||(e.newVal=this.getConstrainedXY(e.newVal))},_getRegion:function(e){var t;return e?(e=h.one(e),e&&(t=e.get(d))):t=this._posNode.get(p),t}},e.WidgetPositionConstrain=m},"3.11.0",{requires:["widget-position"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("overlay",function(e,t){e.Overlay=e.Base.create("overlay",e.Widget,[e.WidgetStdMod,e.WidgetPosition,e.WidgetStack,e.WidgetPositionAlign,e.WidgetPositionConstrain])},"3.11.0",{requires:["widget","widget-stdmod","widget-position","widget-position-align","widget-stack","widget-position-constrain"],skinnable:!0});
YUI.add("gallery-popover",function(c){var v="boundingBox",l="contentBox",b="tl",p="t",a="tr",h="rt",k="r",t="rb",u="br",i="b",o="bl",d="lb",m="l",f="lt",w=27,e=50,q=28,s=18;var n={initializer:function(){},bindUI:function(){this.after("arrowPositionChange",function(y){this._arrow.removeClass(this.getClassName("arrow",y.prevVal));this._arrowMask.removeClass(this.getClassName("arrow","mask",y.prevVal));this._arrow.addClass(this.getClassName("arrow",y.newVal));this._arrowMask.addClass(this.getClassName("arrow","mask",y.newVal))})},renderUI:function(){this._arrow=c.Node.create('<span class="'+this.getClassName("arrow")+'">â—£</span>');this._arrowMask=c.Node.create('<span class="'+this.getClassName("arrow","mask")+'"></span>');this.get(v).append(this._arrow).append(this._arrowMask);var y=this.get("arrowPosition");this._arrow.addClass(this.getClassName("arrow",y));this._arrowMask.addClass(this.getClassName("arrow","mask",y));if(c.UA.webkit&&c.UA.os==="windows"){this._arrow.addClass("win-webkit");this._arrow.addClass(c.UA.chrome?"win-chrome":"win-safari")}else{if(c.UA.gecko&&c.UA.os==="windows"){this._arrow.addClass("win-gecko");this._arrow.addClass("win-firefox");if(c.UA.gecko>=1.9&&c.UA.gecko<2){this._arrow.addClass("win-firefox-3")}}}},syncUI:function(){},alignToElement:function(A,N){var z,B,K,M,C,I,D=this.get("arrowPosition"),y,H,J,G,L;if(this.get("showSquare")){s=8}switch(D){case b:z=[c.WidgetPositionAlign.TL,c.WidgetPositionAlign.BC];B={x:-q,y:s};break;case p:z=[c.WidgetPositionAlign.TC,c.WidgetPositionAlign.BC];B={x:0,y:s};break;case a:z=[c.WidgetPositionAlign.TR,c.WidgetPositionAlign.BC];B={x:q,y:s};break;case h:z=[c.WidgetPositionAlign.TR,c.WidgetPositionAlign.LC];B={x:-s,y:-q};break;case k:z=[c.WidgetPositionAlign.RC,c.WidgetPositionAlign.LC];B={x:-s,y:0};break;case t:z=[c.WidgetPositionAlign.BR,c.WidgetPositionAlign.LC];B={x:-s,y:q};break;case u:z=[c.WidgetPositionAlign.BR,c.WidgetPositionAlign.TC];B={x:q,y:-s};break;case i:z=[c.WidgetPositionAlign.BC,c.WidgetPositionAlign.TC];B={x:0,y:-s};break;case o:z=[c.WidgetPositionAlign.BL,c.WidgetPositionAlign.TC];B={x:-q,y:-s};break;case d:z=[c.WidgetPositionAlign.BL,c.WidgetPositionAlign.RC];B={x:s,y:q};break;case m:z=[c.WidgetPositionAlign.LC,c.WidgetPositionAlign.RC];B={x:s,y:0};break;case f:z=[c.WidgetPositionAlign.TL,c.WidgetPositionAlign.RC];B={x:s,y:-q}}x(this._arrow);x(this._arrowMask);this.align(A,z);K=this._posNode.get("region");M=[K.left+B.x,K.top+B.y];this.move(M);if(N){this.constrain(null,N);K=this._posNode.get("region");C=[K.left,K.top];if(D===b||D===p||D===a||D===o||D===i||D===u){if(M[0]!==C[0]){I=M[0]-C[0];this._arrow.setX(this._arrow.getX());this._arrow.setStyle("right","auto");y=this._arrow.getX()+I;if(y+w>K.right){y=K.right-w}else{if(y<K.left){y=K.left}}this._arrow.setX(y);this._arrowMask.setX(this._arrowMask.getX());this._arrowMask.setStyle("right","auto");H=this._arrowMask.getX()+I;if(H+e>K.right){H=K.right-e}else{if(H<K.left){H=K.left}}this._arrowMask.setX(H)}if(M[1]!==C[1]){I=M[1]-C[1];K=this._posNode.get("region");M=[K.left,K.top+I];this.move(M)}}else{if(D===f||D===m||D===d||D===h||D===k||D===t){if(M[1]!==C[1]){I=M[1]-C[1];this._arrow.setY(this._arrow.getY());this._arrow.setStyle("bottom","auto");J=this._arrow.getY()+I;if(J+w>K.bottom){J=K.bottom-w}else{if(J<K.top){J=K.top}}this._arrow.setY(J);this._arrowMask.setY(this._arrowMask.getY());this._arrowMask.setStyle("bottom","auto");G=this._arrowMask.getY()+I;if(G+e>K.bottom){G=K.bottom-e}else{if(G<K.top){G=K.top}}this._arrowMask.setY(J)}if(M[0]!==C[0]){I=M[0]-C[0];K=this._posNode.get("region");M=[K.left+I,K.top];this.move(M)}}}}if(!this._positionMarkerNode){this._positionMarkerNode=c.DOM.create('<div class="popover-position-marker"></div>');c.one("body").append(this._positionMarkerNode)}if(this.get("arrowPosition")==="br"&&this.get("accordian")){this.get("srcNode").getDOMNode().parentNode.style.bottom=""}c.DOM.setXY(this._positionMarkerNode,this._posNode.get("region"));this.align(this._positionMarkerNode,[c.WidgetPositionAlign.TL,c.WidgetPositionAlign.BL]);if(this.get("arrowPosition")==="br"){var E=this;if(!this.get("isRefresh")||!this.get("refreshBottom")||!this.get("refreshRight")){j(E,A)}else{g(E,A)}}if(this.get("extraCSS")){this.get("srcNode").ancestor(".yui3-popover").addClass(this.get("extraCSS"))}}};var r={TOPLEFT:b,TOP:p,TOPRIGHT:a,RIGHTTOP:h,RIGHT:k,RIGHTBOTTOM:t,BOTTOMRIGHT:u,BOTTOM:i,BOTTOMLEFT:o,LEFTBOTTOM:d,LEFT:m,LEFTTOP:f,CSS_PREFIX:"yui3-popover",ATTRS:{arrowPosition:{value:a,validator:function(y){return(y===b||y===p||y===a||y===o||y===i||y===u||y===f||y===m||y===d||y===h||y===k||y===t)}},accordian:{value:false,validator:function(y){return(typeof y==="boolean")}},isRefresh:{value:false},refreshBottom:{value:null},refreshRight:{value:null},extraCSS:{value:""},showSquare:{value:false}}};function x(y){y.setStyle("top","").setStyle("right","").setStyle("bottom","").setStyle("left","")}function j(z,y){(function(){var C=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(E){window.setTimeout(E,1000/60)}})();var D=function(E){return parseInt(E.replace("px",""),10)};var A=z.get("srcNode").getDOMNode();var B=A.parentNode;C(function(){if(!B.style.bottom){var G=D(B.style.top),E;E=310;B.style.bottom=(-1*G)-E+"px"}C(function(){B.style.top=""})})})()}function g(z,y){(function(){var C=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(E){window.setTimeout(E,1000/60)}})();var D=function(E){return parseInt(E.replace("px",""),10)};var A=z.get("srcNode").getDOMNode();var B=A.parentNode;B.style.display="none";C(function(){B.style.top="";B.style.left="";B.style.bottom=z.get("refreshBottom");B.style.right=z.get("refreshRight");C(function(){B.style.display="block"})})})()}c.Popover=c.Base.create("popover",c.Widget,[c.WidgetStdMod,c.WidgetPosition,c.WidgetStack,c.WidgetPositionAlign,c.WidgetPositionConstrain],n,r)},"0.0.1",{requires:F.config.modules["gallery-popover"].requires||[],optional:F.config.modules["gallery-popover"].optional||[]});YUI.add("focus-tracker",function(e){var a=/^text|search|tel|url|email|password|datetime|date|month|week|time|datetime-local|number|range|color$/i;function b(){var g;try{g=e.one(document.activeElement)}catch(f){console.warn("Caught error from document.activeElement",f);return false}return g}function c(){var f=b(),g;if(!f){return false}g=f.get("tagName").toUpperCase();if(g==="INPUT"){return a.test(f.get("type"))}else{if(g==="TEXTAREA"||g==="SELECT"){return true}}}function d(){var f=b();if(f&&e.Lang.isFunction(f.blur)){try{f.blur()}catch(g){}}}e.focusTracker={get:b,isInput:c,blur:d}},"0.0.1",{requires:F.config.modules["focus-tracker"].requires||[],optional:F.config.modules["focus-tracker"].optional||[]});YUI.add("better-throttle",function(b){function a(h,f,i,e){var j,c;j=0;i=i||null;function k(){if(c){c.cancel();c=undefined}}function d(){k();h.apply(i,arguments)}function g(){var l=(new Date()).getTime();if(e){k()}else{if(l-j>f){j=l;d.apply(i,arguments);return}}if(!c){c=b.later(f,i,d,arguments)}}return g}b.betterThrottle=a},"0.0.1",{requires:[]});/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("dump",function(e,t){var n=e.Lang,r="{...}",i="f(){...}",s=", ",o=" => ",u=function(e,t){var u,a,f=[],l=n.type(e);if(!n.isObject(e))return e+"";if(l=="date")return e;if(e.nodeType&&e.tagName)return e.tagName+"#"+e.id;if(e.document&&e.navigator)return"window";if(e.location&&e.body)return"document";if(l=="function")return i;t=n.isNumber(t)?t:3;if(l=="array"){f.push("[");for(u=0,a=e.length;u<a;u+=1)n.isObject(e[u])?f.push(t>0?n.dump(e[u],t-1):r):f.push(e[u]),f.push(s);f.length>1&&f.pop(),f.push("]")}else if(l=="regexp")f.push(e.toString());else{f.push("{");for(u in e)if(e.hasOwnProperty(u))try{f.push(u+o),n.isObject(e[u])?f.push(t>0?n.dump(e[u],t-1):r):f.push(e[u]),f.push(s)}catch(c){f.push("Error: "+c.message)}f.length>1&&f.pop(),f.push("}")}return f.join("")};e.dump=u,n.dump=u},"3.11.0",{requires:["yui-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("querystring-stringify-simple",function(e,t){var n=e.namespace("QueryString"),r=encodeURIComponent;n.stringify=function(t,n){var i=[],s=n&&n.arrayKey?!0:!1,o,u,a;for(o in t)if(t.hasOwnProperty(o))if(e.Lang.isArray(t[o]))for(u=0,a=t[o].length;u<a;u++)i.push(r(s?o+"[]":o)+"="+r(t[o][u]));else i.push(r(o)+"="+r(t[o]));return i.join("&")}},"3.11.0",{requires:["yui-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-base",function(e,t){function o(t){var n=this;n._uid="io:"+s++,n._init(t),e.io._map[n._uid]=n}var n=["start","complete","end","success","failure","progress"],r=["status","statusText","responseText","responseXML"],i=e.config.win,s=0;o.prototype={_id:0,_headers:{"X-Requested-With":"XMLHttpRequest"},_timeout:{},_init:function(t){var r=this,i,s;r.cfg=t||{},e.augment(r,e.EventTarget);for(i=0,s=n.length;i<s;++i)r.publish("io:"+n[i],e.merge({broadcast:1},t)),r.publish("io-trn:"+n[i],t)},_create:function(t,n){var r=this,s={id:e.Lang.isNumber(n)?n:r._id++,uid:r._uid},o=t.xdr?t.xdr.use:null,u=t.form&&t.form.upload?"iframe":null,a;return o==="native"&&(o=e.UA.ie&&!l?"xdr":null,r.setHeader("X-Requested-With")),a=o||u,s=a?e.merge(e.IO.customTransport(a),s):e.merge(e.IO.defaultTransport(),s),s.notify&&(t.notify=function(e,t,n){r.notify(e,t,n)}),a||i&&i.FormData&&t.data instanceof i.FormData&&(s.c.upload.onprogress=function(e){r.progress(s,e,t)},s.c.onload=function(e){r.load(s,e,t)},s.c.onerror=function(e){r.error(s,e,t)},s.upload=!0),s},_destroy:function(t){i&&!t.notify&&!t.xdr&&(u&&!t.upload?t.c.onreadystatechange=null:t.upload?(t.c.upload.onprogress=null,t.c.onload=null,t.c.onerror=null):e.UA.ie&&!t.e&&t.c.abort()),t=t.c=null},_evt:function(t,r,i){var s=this,o,u=i.arguments,a=s.cfg.emitFacade,f="io:"+t,l="io-trn:"+t;this.detach(l),r.e&&(r.c={status:0,statusText:r.e}),o=[a?{id:r.id,data:r.c,cfg:i,arguments:u}:r.id],a||(t===n[0]||t===n[2]?u&&o.push(u):(r.evt?o.push(r.evt):o.push(r.c),u&&o.push(u))),o.unshift(f),s.fire.apply(s,o),i.on&&(o[0]=l,s.once(l,i.on[t],i.context||e),s.fire.apply(s,o))},start:function(e,t){this._evt(n[0],e,t)},complete:function(e,t){this._evt(n[1],e,t)},end:function(e,t){this._evt(n[2],e,t),this._destroy(e)},success:function(e,t){this._evt(n[3],e,t),this.end(e,t)},failure:function(e,t){this._evt(n[4],e,t),this.end(e,t)},progress:function(e,t,r){e.evt=t,this._evt(n[5],e,r)},load:function(e,t,r){e.evt=t.target,this._evt(n[1],e,r)},error:function(e,t,r){e.evt=t,this._evt(n[4],e,r)},_retry:function(e,t,n){return this._destroy(e),n.xdr.use="flash",this.send(t,n,e.id)},_concat:function(e,t){return e+=(e.indexOf("?")===-1?"?":"&")+t,e},setHeader:function(e,t){t?this._headers[e]=t:delete this._headers[e]},_setHeaders:function(t,n){n=e.merge(this._headers,n),e.Object.each(n,function(e,r){e!=="disable"&&t.setRequestHeader(r,n[r])})},_startTimeout:function(e,t){var n=this;n._timeout[e.id]=setTimeout(function(){n._abort(e,"timeout")},t)},_clearTimeout:function(e){clearTimeout(this._timeout[e]),delete this._timeout[e]},_result:function(e,t){var n;try{n=e.c.status}catch(r){n=0}n>=200&&n<300||n===304||n===1223?this.success(e,t):this.failure(e,t)},_rS:function(e,t){var n=this;e.c.readyState===4&&(t.timeout&&n._clearTimeout(e.id),setTimeout(function(){n.complete(e,t),n._result(e,t)},0))},_abort:function(e,t){e&&e.c&&(e.e=t,e.c.abort())},send:function(t,n,i){var s,o,u,a,f,c,h=this,p=t,d={};n=n?e.Object(n):{},s=h._create(n,i),o=n.method?n.method.toUpperCase():"GET",f=n.sync,c=n.data,e.Lang.isObject(c)&&!c.nodeType&&!s.upload&&e.QueryString&&e.QueryString.stringify&&(n.data=c=e.QueryString.stringify(c));if(n.form){if(n.form.upload)return h.upload(s,t,n);c=h._serialize(n.form,c)}c||(c="");if(c)switch(o){case"GET":case"HEAD":case"DELETE":p=h._concat(p,c),c="";break;case"POST":case"PUT":n.headers=e.merge({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},n.headers)}if(s.xdr)return h.xdr(p,s,n);if(s.notify)return s.c.send(s,t,n);!f&&!s.upload&&(s.c.onreadystatechange=function(){h._rS(s,n)});try{s.c.open(o,p,!f,n.username||null,n.password||null),h._setHeaders(s.c,n.headers||{}),h.start(s,n),n.xdr&&n.xdr.credentials&&l&&(s.c.withCredentials=!0),s.c.send(c);if(f){for(u=0,a=r.length;u<a;++u)d[r[u]]=s.c[r[u]];return d.getAllResponseHeaders=function(){return s.c.getAllResponseHeaders()},d.getResponseHeader=function(e){return s.c.getResponseHeader(e)},h.complete(s,n),h._result(s,n),d}}catch(v){if(s.xdr)return h._retry(s,t,n);h.complete(s,n),h._result(s,n)}return n.timeout&&h._startTimeout(s,n.timeout),{id:s.id,abort:function(){return s.c?h._abort(s,"abort"):!1},isInProgress:function(){return s.c?s.c.readyState%4:!1},io:h}}},e.io=function(t,n){var r=e.io._map["io:0"]||new o;return r.send.apply(r,[t,n])},e.io.header=function(t,n){var r=e.io._map["io:0"]||new o;r.setHeader(t,n)},e.IO=o,e.io._map={};var u=i&&i.XMLHttpRequest,a=i&&i.XDomainRequest,f=i&&i.ActiveXObject,l=u&&"withCredentials"in new XMLHttpRequest;e.mix(e.IO,{_default:"xhr",defaultTransport:function(t){if(!t){var n={c:e.IO.transports[e.IO._default](),notify:e.IO._default==="xhr"?!1:!0};return n}e.IO._default=t},transports:{xhr:function(){return u?new XMLHttpRequest:f?new ActiveXObject("Microsoft.XMLHTTP"):null},xdr:function(){return a?new XDomainRequest:null},iframe:function(){return{}},flash:null,nodejs:null},customTransport:function(t){var n={c:e.IO.transports[t]()};return n[t==="xdr"||t==="flash"?"xdr":"notify"]=!0,n}}),e.mix(e.IO.prototype,{notify:function(e,t,n){var r=this;switch(e){case"timeout":case"abort":case"transport error":t.c={status:0,statusText:e},e="failure";default:r[e].apply(r,[t,n])}}})},"3.11.0",{requires:["event-custom-base","querystring-stringify-simple"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("datatype-xml-parse",function(e,t){var n=e.Lang;e.mix(e.namespace("XML"),{parse:function(e){var t=null;if(n.isString(e))try{n.isUndefined(ActiveXObject)||(t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e))}catch(r){try{n.isUndefined(DOMParser)||(t=(new DOMParser).parseFromString(e,"text/xml")),n.isUndefined(Windows.Data.Xml.Dom)||(t=new Windows.Data.Xml.Dom.XmlDocument,t.loadXml(e))}catch(i){}}return n.isNull(t)||n.isNull(t.documentElement)||t.documentElement.nodeName==="parsererror",t}}),e.namespace("Parsers").xml=e.XML.parse,e.namespace("DataType"),e.DataType.XML=e.XML},"3.11.0");
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-xdr",function(e,t){function a(e,t,n){var r='<object id="io_swf" type="application/x-shockwave-flash" data="'+e+'" width="0" height="0">'+'<param name="movie" value="'+e+'">'+'<param name="FlashVars" value="yid='+t+"&uid="+n+'">'+'<param name="allowScriptAccess" value="always">'+"</object>",i=s.createElement("div");s.body.appendChild(i),i.innerHTML=r}function f(t,n,r){return n==="flash"&&(t.c.responseText=decodeURI(t.c.responseText)),r==="xml"&&(t.c.responseXML=e.DataType.XML.parse(t.c.responseText)),t}function l(e,t){return e.c.abort(e.id,t)}function c(e){return u?i[e.id]!==4:e.c.isInProgress(e.id)}var n=e.publish("io:xdrReady",{fireOnce:!0}),r={},i={},s=e.config.doc,o=e.config.win,u=o&&o.XDomainRequest;e.mix(e.IO.prototype,{_transport:{},_ieEvt:function(e,t){var n=this,r=e.id,s="timeout";e.c.onprogress=function(){i[r]=3},e.c.onload=function(){i[r]=4,n.xdrResponse("success",e,t)},e.c.onerror=function(){i[r]=4,n.xdrResponse("failure",e,t)},e.c.ontimeout=function(){i[r]=4,n.xdrResponse(s,e,t)},e.c[s]=t[s]||0},xdr:function(t,n,i){var s=this;return i.xdr.use==="flash"?(r[n.id]=i,o.setTimeout(function(){try{n.c.send(t,{id:n.id,uid:n.uid,method:i.method,data:i.data,headers:i.headers})}catch(e){s.xdrResponse("transport error",n,i),delete r[n.id]}},e.io.xdr.delay)):u?(s._ieEvt(n,i),n.c.open(i.method||"GET",t),setTimeout(function(){n.c.send(i.data)},0)):n.c.send(t,n,i),{id:n.id,abort:function(){return n.c?l(n,i):!1},isInProgress:function(){return n.c?c(n.id):!1},io:s}},xdrResponse:function(e,t,n){n=r[t.id]?r[t.id]:n;var s=this,o=u?i:r,a=n.xdr.use,l=n.xdr.dataType;switch(e){case"start":s.start(t,n);break;case"success":s.success(f(t,a,l),n),delete o[t.id];break;case"timeout":case"abort":case"transport error":t.c={status:0,statusText:e};case"failure":s.failure(f(t,a,l),n),delete o[t.id]}},_xdrReady:function(t,r){e.fire(n,t,r)},transport:function(t){t.id==="flash"&&(a(e.UA.ie?t.src+"?d="+(new Date).valueOf().toString():t.src,e.id,t.uid),e.IO.transports.flash=function(){return s.getElementById("io_swf")})}}),e.io.xdrReady=function(t,n){var r=e.io._map[n];e.io.xdr.delay=0,r._xdrReady.apply(r,[t,n])},e.io.xdrResponse=function(t,n,r){var i=e.io._map[n.uid];i.xdrResponse.apply(i,[t,n,r])},e.io.transport=function(t){var n=e.io._map["io:0"]||new e.IO;t.uid=n._uid,n.transport.apply(n,[t])},e.io.xdr={delay:100}},"3.11.0",{requires:["io-base","datatype-xml-parse"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("json-parse",function(e,t){var n=e.config.global.JSON;e.namespace("JSON").parse=function(e,t,r){return n.parse(typeof e=="string"?e:e+"",t,r)}},"3.11.0",{requires:["yui-base"]});
YUI.add("gallery-flickr-api",function(a){YUI.namespace("flickrAPITransactions");var l=a.config.flickr.flags.enable_client_fullpath_api?a.config.flickrAPI.flickr_api_uri:"/services/rest/",n={format:"json",clientType:"yui-3-flickrapi-module"},g="flapicb",d=60000,h=YUI.flickrAPITransactions,c=function(){return true},k=function(){return true},i=function(){return true},b={last_response_id:0,id_map:{},response_map:{},setResponse:function(q,p){var o=b;o.response_map[q]=p;return o.response_map[q]},setId:function(r,q){var p=b,o=q;p.id_map[r]=o;p.last_response_id=o;return o}},f=function(r){var p="";for(var q in r){if(r.hasOwnProperty(q)){p+=q+"="+r[q]+"&"}}return p.substr(0,p.length-1)},j=function(v,s,o,q){var u=b,t,p;if(q){try{t=a.JSON.parse(s[1].responseText)}catch(r){a.log("invalid JSON","error","flickrAPI")}p=[{params:s[2].params,data:t}].concat(s)}else{t=(u.response_map[u.id_map[s[0].tId]])?u.response_map[u.id_map[s[0].tId]][0]:null;p=[{params:s[0].data,data:t}].concat(s)}if(t&&o){if(t.stat==="ok"){return v.apply(a,p)}else{if("fail"){a.log(t.message,"error","flickrAPI");return this.failure.apply(a,p)}}}else{if(o===0){this.failure.apply(a,p)}else{if(v){return v.apply(a,p)}}}},e=function(q,s,r){var p=b.last_response_id+1,o=a.Get.script(q+"?"+f(s)+"&jsoncallback=YUI.flickrAPITransactions."+g+p+"&cachebust="+(new Date()).getTime(),r);b.setId(o.tId,p);h[g+p]=function(t){var u=b.setResponse(p,arguments);if(u){a.later(1000,a,function(){delete h[g+p]})}};return o},m=function(o,q,p){a.use("io",function(r){r.io(o,{method:"POST",data:f(q),timeout:d,on:p,xdr:{credentials:true},"arguments":{params:q}})})};a.flickrAPI={callMethod:function(q,t,p,v,r){v=v||{};if(typeof v.timeout!=="number"){v.timeout=d}oYUIPOSTConf=v;t=t||{};var s=l,o;t=a.merge(a.config.flickrAPI,t);if(t.flickr_api_uri){s=t.flickr_api_uri;delete t.flickr_api_uri}a.Object.each(t,function(y,w,x){x[w]=encodeURIComponent(y)});t.method=q;if(a.Lang.isFunction(p)){p={success:p,failure:c,progress:k,timeout:i}}if(a.Lang.isObject(p)){v=a.merge(v,{onSuccess:function(){a.fire("flickrAPI:success");return j.apply(p,[p.success,arguments,1])},onFailure:function(){if(b.response_map[b.id_map[arguments[0].tId]]!==null){a.log("Your request (ID:"+arguments[0].tId+") has failed.","error","flickrAPI");a.fire("flickrAPI:failure");return j.apply(p,[p.failure,arguments,0])}},onProgress:function(){a.fire("flickrAPI:progress");return j.apply(p,[a.Lang.isFunction(p.progress)?p.progress:function(){},arguments,null])},onTimeout:function(){a.log("Your request (ID:"+arguments[0].tId+") has timed out","error","flickrAPI");h[g+b.id_map[arguments[0].tId]]=function(){a.log("A response callback was fired but suppressed because of a timeout enforced by configuration.","warn","flickrAPI")};b.response_map[b.id_map[arguments[0].tId]]=null;a.Get.abort(arguments[0].tId);a.fire("flickrAPI:timeout");return j.apply(p,[p.timeout,arguments,0])}});oYUIPOSTConf=a.merge(oYUIPOSTConf,{success:function(){a.fire("flickrAPI:success");return j.apply(p,[p.success,arguments,1,1])},failure:function(){a.log("Your request (ID:"+arguments[0].tId+") has failed.","error","flickrAPI");a.fire("flickrAPI:failure");return j.apply(p,[p.failure,arguments,0,1])},timeout:function(){a.log("Your request (ID:"+arguments[0].tId+") has timed out","error","flickrAPI");a.fire("flickrAPI:timeout");return j.apply(p,[p.timeout,arguments,0,1])}})}v.scope=a;var u=a.merge(v.data,n,t);v.data=u;o=s+"?"+f(u);if(r){return{uri:s,params:u,full_url:o}}else{if(/(?:add|create|delete|edit|mute|post|record|remove|set|submit|unmute|move|sort|hide|block|unblock|insert|promote|login|cancel)[a-zA-Z]*$/.test(u.method)||o.length>a.config.maxURLLength){u.nojsoncallback=1;return m(s,u,oYUIPOSTConf)}else{return e(s,u,v)}}}}},"gallery-a-002",{requires:["event"]});/*jslint nomen:false, plusplus: false */
/*global YUI:false, window:false*/
YUI.add('sprintf', function (Y) {

/**
 * sprintf
 * 
 * @module sprintf
 */

	/**
	sprintf() for JavaScript 0.6

	Copyright (c) Alexandru Marasteanu <alexaholic [at) gmail (dot] com>
	All rights reserved.

	Redistribution and use in source and binary forms, with or without
	modification, are permitted provided that the following conditions are met:
	    * Redistributions of source code must retain the above copyright
	      notice, this list of conditions and the following disclaimer.
	    * Redistributions in binary form must reproduce the above copyright
	      notice, this list of conditions and the following disclaimer in the
	      documentation and/or other materials provided with the distribution.
	    * Neither the name of sprintf() for JavaScript nor the
	      names of its contributors may be used to endorse or promote products
	      derived from this software without specific prior written permission.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
	ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
	WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
	DISCLAIMED. IN NO EVENT SHALL Alexandru Marasteanu BE LIABLE FOR ANY
	DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
	(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
	LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
	ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
	(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
	SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.


	Changelog:
	2007.04.03 - 0.1:
	 - initial release
	2007.09.11 - 0.2:
	 - feature: added argument swapping
	2007.09.17 - 0.3:
	 - bug fix: no longer throws exception on empty paramenters (Hans Pufal)
	2007.10.21 - 0.4:
	 - unit test and patch (David Baird)
	2010.05.09 - 0.5:
	 - bug fix: 0 is now preceeded with a + sign
	 - bug fix: the sign was not at the right position on padded results (Kamal Abdali)
	 - switched from GPL to BSD license
	2010.05.22 - 0.6:
	 - reverted to 0.4 and fixed the bug regarding the sign of the number 0
	 Note:
	 Thanks to Raphael Pigulla <raph (at] n3rd [dot) org> (http://www.n3rd.org/)
	 who warned me about a bug in 0.5, I discovered that the last update was
	 a regress. I appologize for that.
	**/

	function str_repeat(i, m) {
		for (var o = []; m > 0; o[--m] = i);
		return o.join('');
	}

	function sprintf() {
		var i = 0, a, f = arguments[i++], o = [], m, p, c, x, s = '';
		while (f) {
			if (m = /^[^\x25]+/.exec(f)) {
				o.push(m[0]);
			}
			else if (m = /^\x25{2}/.exec(f)) {
				o.push('%');
			}
			else if (m = /^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(f)) {
				if (((a = arguments[m[1] || i++]) == null) || (a == undefined)) {
					throw('Too few arguments.');
				}
				if (/[^s]/.test(m[7]) && (typeof(a) != 'number')) {
					throw('Expecting number but found ' + typeof(a));
				}
				switch (m[7]) {
					case 'b': a = a.toString(2); break;
					case 'c': a = String.fromCharCode(a); break;
					case 'd': a = parseInt(a); break;
					case 'e': a = m[6] ? a.toExponential(m[6]) : a.toExponential(); break;
					case 'f': a = m[6] ? parseFloat(a).toFixed(m[6]) : parseFloat(a); break;
					case 'o': a = a.toString(8); break;
					case 's': a = ((a = String(a)) && m[6] ? a.substring(0, m[6]) : a); break;
					case 'u': a = Math.abs(a); break;
					case 'x': a = a.toString(16); break;
					case 'X': a = a.toString(16).toUpperCase(); break;
				}
				a = (/[def]/.test(m[7]) && m[2] && a >= 0 ? '+'+ a : a);
				c = m[3] ? m[3] == '0' ? '0' : m[3].charAt(1) : ' ';
				x = m[5] - String(a).length - s.length;
				p = m[5] ? str_repeat(c, x) : '';
				o.push(s + (m[4] ? a + p : p + a));
			}
			else {
				throw('sprintf failure');
			}
			f = f.substring(m[0].length);
		}
		return o.join('');
	}

	
	/**
	 * Bind to YUI instance
	 */
	Y.sprintf = sprintf;
	

}, '0.0.1');
YUI.add("transjax-base",function(d){var a={};function c(f,e){if(!d.Lang.isObject(a[f])){a[f]={}}if(d.Lang.isObject(e)){d.mix(a[f],e)}}function b(){var g,l,k,f,e,j;g=Array.prototype.slice.call(arguments);l=g.shift();k=g.shift();e=a[l];if(arguments.length>1){if(d.Lang.isObject(e)){f=e[k]}if(d.Lang.isUndefined(f)){return k}g.unshift(f);return d.sprintf.apply(window,g)}else{j={};for(var h in e){if(e.hasOwnProperty(h)){j[h]=e[h]}}return j}}d.transjax={add:c,get:b}},"0.0.1",{requires:["sprintf"]});YUI.add("global-dialog-transjax",function(a){a.transjax.add("global-dialog",{button_confirm:'OKAY',button_cancel:'CANCEL'})},"0.0.1",{requires:["transjax-base"]});/*jslint white:false, undef:false, browser:true, eqeqeq:true, regexp:false, newcap:true, immed:true, onevar:false, plusplus:false, nomen:false */
/*global YUI:false, YAHOO:false, F:false, setTimeout:false, window:false */
/* $Id$ */

(function() {
	
	var module_id = 'page-context';
	
	YUI.add(module_id, function(Y) {

		var contexts = [''];
	
		function set(name) {
		
			//
			// Add the specified context to the top of the stack
			//
		
			if (contexts[contexts.length - 1] !== name) {
				contexts.push(name);
				Y.fire('PageContext:set', {
					newVal: name,
					oldVal: contexts[contexts.length - 2] || ''
				});
				return true;
			}
		
			return false;
		
		}
	
		function unset(name) {
		
			//
			// Find the top most context that matches the name argument and remove it.
			// This is normally, but not always, the last item in the array.
			// Never remove the first, empty context in the array.
			//
		
			var i, len = contexts.length;
		
			for (i = len - 1; i > 0; i -= 1) {
				if (contexts[i] === name) {
					contexts.splice(i, 1);
					Y.fire('PageContext:unset', {
						newVal: contexts[contexts.length - 1] || '',
						oldVal: name
					});
					return true;
				}
			}
		
			return false;
		
		}
	
		function get() {

			//
			// Get the top most context
			//
		
			return contexts[contexts.length - 1];
		}
	
		//
		// Bind to YUI instance
		//

		Y.PageContext = {
			set: set,
			unset: unset,
			get: get
		};



	}, '0.0.1', {
		requires: F.config.modules[module_id].requires || [],
		optional: F.config.modules[module_id].optional || []
	});

}());
YUI.add("keyboard-shortcut-legend-transjax",function(a){a.transjax.add("keyboard-shortcut-legend",{header_no_context:'Keyboard shortcuts for this page',header_context:'Keyboard shortcuts for this view',instructions:'This dialog lists all of the keyboard shortcuts available on this particular page. Press any key on your keyboard to hear what it does.',enable_shortcuts:'Enable keyboard shortcuts',saving:'Saving...',saved:'Saved!',unable_to_save:'Unable to save',button_close:'CLOSE',shortcut_description:'Show all keyboard shortcuts',esc_description:'Close a dialog, like this one',esc_description_screenreader:'(press escape again to close this dialog)',general:'General',navigation:'Navigation',lightbox:'Light Box',map:'Map',actions:'Actions',you_can_reenable_shortcuts_in_prefs:'You can always <a href="/account/prefs/shortcuts/?from=extend">re-enable keyboard shortcuts</a> later in your account settings, under Sharing &amp; Extending.',change_layout:'change',qwerty_layout:'QWERTY layout',spanish_layout:'Spanish layout',qwertz_layout:'QWERTZ layout',azerty_layout:'AZERTY layout',dvorak_layout:'Dvorak layout',spanish:'Spanish',layout_selector_description:'Select a keyboard layout',up_arrow:'Up arrow',down_arrow:'Down arrow',left_arrow:'Left arrow',right_arrow:'Right arrow'})},"0.0.1",{requires:F.config.modules["keyboard-shortcut-legend-transjax"].requires||[]});YUI.add("keyboard-shortcut-legend-layouts",function(e){var d,c,f,b,a;d=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{keyCode:192,sub:"`",sup:"~"},{keyCode:49,sub:"1",sup:"!"},{keyCode:50,sub:"2",sup:"@"},{keyCode:51,sub:"3",sup:"#"},{keyCode:52,sub:"4",sup:"$"},{keyCode:53,sub:"5",sup:"%"},{keyCode:54,sub:"6",sup:"^"},{keyCode:55,sub:"7",sup:"&"},{keyCode:56,sub:"8",sup:"*"},{keyCode:57,sub:"9",sup:"("},{keyCode:48,sub:"0",sup:")"},{keyCode:189,sub:"-",sup:"_"},{keyCode:187,sub:"=",sup:"+"},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:81,sub:"Q",sup:""},{keyCode:87,sub:"W",sup:""},{keyCode:69,sub:"E",sup:""},{keyCode:82,sub:"R",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:89,sub:"Y",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:80,sub:"P",sup:""},{keyCode:219,sub:"[",sup:"{"},{keyCode:221,sub:"]",sup:"}"},{keyCode:220,sub:"\\",sup:"|"}],[{keyCode:65,sub:"A",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:76,sub:"L",sup:""},{keyCode:186,sub:";",sup:":"},{keyCode:222,sub:"'",sup:'"'},{keyCode:13,sub:"return",sup:"",className:"return"}],[{keyCode:90,sub:"Z",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:77,sub:"M",sup:""},{keyCode:188,sub:",",sup:"<"},{keyCode:190,sub:".",sup:">"},{keyCode:191,sub:"/",sup:"?"},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]];b=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{sub:"<",sup:">"},{keyCode:49,sub:"1",sup:"!"},{keyCode:50,sub:"2",sup:'"'},{keyCode:51,sub:"3",sup:"#"},{keyCode:52,sub:"4",sup:"$"},{keyCode:53,sub:"5",sup:"%"},{keyCode:54,sub:"6",sup:"&"},{keyCode:55,sub:"7",sup:"/"},{keyCode:56,sub:"8",sup:"("},{keyCode:57,sub:"9",sup:")"},{keyCode:48,sub:"0",sup:"="},{keyCode:222,sub:"'",sup:"?"},{sub:"Â¡",sup:"Â¿"},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:81,sub:"Q",sup:""},{keyCode:87,sub:"W",sup:""},{keyCode:69,sub:"E",sup:""},{keyCode:82,sub:"R",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:89,sub:"Y",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:80,sub:"P",sup:""},{sub:"`",sup:"^"},{keyCode:107,sub:"+",sup:"*"},{sub:"Ã‡",sup:""}],[{keyCode:65,sub:"A",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:76,sub:"L",sup:""},{sub:"Ã‘",sup:""},{sub:"Â´",sup:"Â¨"},{keyCode:13,sub:"return",sup:"",className:"return"}],[{keyCode:90,sub:"Z",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:77,sub:"M",sup:""},{keyCode:188,sub:",",sup:";"},{keyCode:190,sub:".",sup:":"},{keyCode:109,sub:"-",sup:"_"},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]];c=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{sub:"^",sup:"Ëš"},{keyCode:49,sub:"1",sup:"!"},{keyCode:50,sub:"2",sup:'"'},{keyCode:51,sub:"3",sup:"Â§"},{keyCode:52,sub:"4",sup:"$"},{keyCode:53,sub:"5",sup:"%"},{keyCode:54,sub:"6",sup:"&"},{keyCode:55,sub:"7",sup:"/"},{keyCode:56,sub:"8",sup:"("},{keyCode:57,sub:"9",sup:")"},{keyCode:48,sub:"0",sup:"="},{keyCode:191,sub:"ÃŸ",sup:"?"},{sub:"Â´",sup:"`"},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:81,sub:"Q",sup:"@"},{keyCode:87,sub:"W",sup:""},{keyCode:69,sub:"E",sup:"â‚¬"},{keyCode:82,sub:"R",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:90,sub:"Z",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:80,sub:"P",sup:""},{sub:"Ãœ",sup:""},{keyCode:107,sub:"+",sup:"*"},{keyCode:13,sub:"return",sup:"",className:"return-top"},{keyCode:13,sub:"",sup:"",className:"return-middle"}],[{keyCode:65,sub:"A",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:76,sub:"L",sup:""},{sub:"Ã–",sup:""},{sub:"Ã„",sup:""},{sub:"#",sup:"'"},{keyCode:13,sub:"",sup:"",className:"return"}],[{sub:"<",sup:">"},{keyCode:89,sub:"Y",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:77,sub:"M",sup:""},{keyCode:188,sub:",",sup:";"},{keyCode:190,sub:".",sup:":"},{keyCode:109,sub:"_",sup:"-"},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]];f=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{sub:"2",sup:"",className:"small-text"},{keyCode:49,sub:"1",sup:"&"},{keyCode:50,sub:"2",sup:"Ã©"},{keyCode:51,sub:"3",sup:'"'},{keyCode:52,sub:"4",sup:"'"},{keyCode:53,sub:"5",sup:"("},{keyCode:54,sub:"6",sup:"-"},{keyCode:55,sub:"7",sup:"Ã¨"},{keyCode:56,sub:"8",sup:"_"},{keyCode:57,sub:"9",sup:"Ã§"},{keyCode:48,sub:"0",sup:"Ã "},{sub:"Ëš",sup:")"},{keyCode:109,sub:"+",sup:"="},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:65,sub:"A",sup:""},{keyCode:90,sub:"Z",sup:""},{keyCode:69,sub:"E",sup:"â‚¬"},{keyCode:82,sub:"R",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:89,sub:"Y",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:80,sub:"P",sup:""},{sub:"Â¨",sup:"^"},{sub:"$",sup:"Â£"},{keyCode:13,sub:"return",sup:"",className:"return-top"},{keyCode:13,sub:"",sup:"",className:"return-middle"}],[{keyCode:81,sub:"Q",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:76,sub:"L",sup:""},{keyCode:77,sub:"M",sup:""},{sub:"Ã¹",sup:"%"},{sub:"*",sup:"Âµ"},{keyCode:13,sub:"",sup:"",className:"return"}],[{sub:"<",sup:">"},{keyCode:87,sub:"W",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:188,sub:",",sup:"?"},{keyCode:59,sub:";",sup:"."},{keyCode:191,sub:":",sup:"/"},{sub:"!",sup:"Â§"},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]];a=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{keyCode:192,sub:"`",sup:"~"},{keyCode:49,sub:"1",sup:"!"},{keyCode:50,sub:"2",sup:"@"},{keyCode:51,sub:"3",sup:"#"},{keyCode:52,sub:"4",sup:"$"},{keyCode:53,sub:"5",sup:"%"},{keyCode:54,sub:"6",sup:"^"},{keyCode:55,sub:"7",sup:"&"},{keyCode:56,sub:"8",sup:"*"},{keyCode:57,sub:"9",sup:"("},{keyCode:48,sub:"0",sup:")"},{keyCode:219,sub:"[",sup:"{"},{keyCode:221,sub:"]",sup:"}"},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:222,sub:"'",sup:'"'},{keyCode:188,sub:",",sup:"<"},{keyCode:190,sub:".",sup:">"},{keyCode:80,sub:"P",sup:""},{keyCode:89,sub:"Y",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:82,sub:"R",sup:""},{keyCode:76,sub:"L",sup:""},{keyCode:191,sub:"/",sup:"?"},{keyCode:187,sub:"=",sup:"+"},{keyCode:220,sub:"\\",sup:"|"}],[{keyCode:65,sub:"A",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:69,sub:"E",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:189,sub:"-",sup:"_"},{keyCode:13,sub:"return",sup:"",className:"return"}],[{keyCode:186,sub:";",sup:":"},{keyCode:81,sub:"Q",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:77,sub:"M",sup:""},{keyCode:87,sub:"W",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:90,sub:"Z",sup:""},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]];e.keyboardShortcutLegendLayouts={qwerty:d,spanish:b,qwertz:c,azerty:f,dvorak:a}},"0.0.1",{requires:F.config.modules["keyboard-shortcut-legend-layouts"].requires||[],optional:F.config.modules["keyboard-shortcut-legend-layouts"].optional||[]});YUI.add("keyboard-shortcut-manager",function(c){var j=[],e,i=false,a=c.UA,g=false,h,d;d={altKey:false,ctrlKey:false,shiftKey:false,metaKey:false};function k(p){var o=c.merge(d,{}),n=true;if(!i){return}e=c.PageContext.get();if(c.focusTracker.isInput()){return}else{if(p.altKey){o.altKey=true}if(p.ctrlKey){o.ctrlKey=true}if(p.metaKey){o.metaKey=true}if(p.shiftKey){o.shiftKey=true}if(j[p.keyCode]){c.Object.each(j[p.keyCode],function(s,r,q){n=true;c.Object.each(s.modifiers,function(u,t,v){if(n&&u!==o[t]){n=false}});if(n&&(s.context[0]==="*"||c.Array.indexOf(s.context,e)>-1)){s.handler.call(s.scope,p)}},this)}}}function l(s,z,n,A,x){var r,w,q,u,p,v,t,y;if(typeof arguments[0]==="object"){r=arguments[0];w=r.legend;s=r.keystring;z=r.handler;n=r.context;A=r.scope;x=r.modifiers}x=c.merge(d,x);if(c.Lang.isString(n)){n=[n]}if(!g){m()}q=s.split(",");u=q.length;p=A||window;v=c.guid();if(F&&F.keyListener){F.keyListener.detach(q)}for(t=0;t<u;t++){y=parseInt(q[t],10);if(!j[y]){j[y]={}}j[y][v]={handler:z,context:n,modifiers:x,scope:p}}if(c.config.flickr.flags.enable_keyboard_shortcut_legend&&c.keyboardShortcutLegend&&c.keyboardShortcutLegend.register&&w){c.Array.each(n,function(o){var B=c.clone(w,true);B.keyCodes=q;B.context=o;c.keyboardShortcutLegend.register(B)})}return{detach:function(){for(t=0;t<u;t++){y=parseInt(q[t],10);if(j[y]&&j[y][v]){j[y][v]=undefined;delete j[y][v]}}}}}function b(){h=c.on("key",k,"html","down:")}function f(){if(c.keyboardShortcutLegend&&c.keyboardShortcutLegend.show){l({keystring:"191,109",handler:c.keyboardShortcutLegend.show,context:"*"});l({keystring:"191",handler:c.keyboardShortcutLegend.show,context:"*",modifiers:{shiftKey:true}})}}function m(){if(F&&F.keyListener){if(F.keyListener.enabled&&c.config.flickr.flags.enable_keyboard_shortcuts){i=true}else{i=false}}else{if((a.gecko||a.webkit>531||a.ie>7||a.opera>11)&&c.config.flickr.flags.enable_keyboard_shortcuts){i=true}}if(i){b()}g=true;if(i&&c.config.flickr.flags.enable_keyboard_shortcut_legend){f()}}c.keyboardShortcutManager={register:l,isEnabled:function(){return i},disable:function(){i=false;c.config.flickr.flags.enable_keyboard_shortcuts=false},enable:function(){i=true;c.config.flickr.flags.enable_keyboard_shortcuts=true},destroy:function(){i=false;g=false;if(h){h.detach()}}}},"0.0.1",{requires:F.config.modules["keyboard-shortcut-manager"].requires});YUI.add("global-dialog",function(b){var a=function(){var c=this,e=(b.UA.ie&&(b.UA.ie<7||(typeof document.documentMode!=="undefined"?document.documentMode===5:false)||!document.compatMode.match(/css1compat/i)))||(navigator.userAgent.match(/(ipod|ipad|iphone)/i&&navigator.userAgent.match(/Version\/[1234]\s/i))),d="global_dialog",f=(b.UA.ie&&b.UA.ie<7);this.spinner=null;this.is_modal=false;this.events_on=false;this.o_shadows=null;this.is_showing=false;this.style=(typeof b.config!=="undefined"&&typeof b.config.flickr!=="undefined"&&!b.config.flickr.is_zeus?"style_2009":"default");this.last_style=null;this.on_escape_handler=null;this.esc_to_close=true;this.o=null;this.o_container=null;this.o_cover=null;this.timestamp=null;this.get_elements=function(){if(!c.o_cover){c.o_cover=b.one("#global-dialog-background")}if(!c.o||!c.o_container){c.o=b.one("#"+d);if(!c.o){return false}else{c.o_container=c.o.one("div.global_dialog_container");if(c.o){c.o_shadows={left:b.one("div.shadow_l"),right:b.one("div.shadow_r")};return true}}}else{return true}};this.reposition=function(){var h,g,i;if(e){if(window.innerWidth){g=window.pageXOffset;i=window.pageYOffset}else{g=document.body.scrollLeft;i=document.body.scrollTop}}if(!c.get_elements()){if(e){if(c.spinner){c.spinner.style.top=(i+parseInt((document.documentElement.clientHeight||document.body.clientHeight)/2,10)+"px")}c.position_cover()}return false}h=parseInt(c.o_container.get("offsetHeight"),10);if(h&&c.o_shadows&&c.o_shadows.left&&c.o_shadows.right){c.o_shadows.left.setStyle("height",(h+"px"));c.o_shadows.right.setStyle("height",(h+"px"))}c.o.setStyle("marginLeft",-(c.o.get("offsetWidth")/2)+"px");c.o.setStyle("marginTop",-(c.o.get("offsetHeight")/2)+"px");c.o.setStyle("left","50%");c.o.setStyle("top","50%");if(e){c.o.setStyle("top",(i+parseInt((document.documentElement.clientHeight||document.body.clientHeight)/2,10)+"px"))}};this.show=function(g){if(typeof g!=="undefined"&&typeof g.loading!=="undefined"){c.set_loading(g.loading?true:false)}if(!c.get_elements()){return false}if(g&&g.esc_to_close===false){this.esc_to_close=false}else{this.esc_to_close=true}if(typeof g!=="undefined"){if((typeof g.modal==="undefined")||(typeof g.modal!=="undefined"&&g.modal!==false)){c.set_modal(true)}else{c.set_modal(false)}if(typeof g.style!=="undefined"){c.set_style(g.style)}else{c.set_style(c.style)}if(typeof g.width!=="undefined"){c.set_width(g.width)}c.set_short_message_style((typeof g.short_message!=="undefined"&&g.short_message))}else{c.set_modal(true)}if(!c.is_showing){if(g&&typeof g.left!=="undefined"){c.o.setStyle("left",g.left);c.o.setStyle("top",g.top);c.o.setStyle("display","block");c.is_showing=true}else{c.o.setStyle("left","-9999px");c.o.setStyle("top","-9999px");c.o.setStyle("display","block");c.reposition();c.is_showing=true}}};this.hide=function(g){if(b.focusTracker&&b.focusTracker.isInput()){b.focusTracker.blur()}c.set_modal();if(e){c.detach_events()}c.detach_key_events();if(g&&g.loading){c.set_loading(true)}else{c.set_loading(false)}if(!c.get_elements()){return false}if(c.is_showing){c.o.setStyle("display","none");c.is_showing=false}c.on_escape_handler=null;if(c.modal_remove_handler&&c.modal_remove_handler.detach){c.modal_remove_handler.detach()}if(c.modal_remove_key_handler&&c.modal_remove_key_handler.detach){c.modal_remove_key_handler.detach()}};this.set_width=function(g){if(!c.get_elements()){return false}if(g){c.o.setStyle("width","auto");c.o_container.setStyle("width",g+(g==="auto"?"":"px"))}else{c.o.setStyle("width","auto");c.o_container.setStyle("width",(b.UA.ie&&b.UA.ie<7?"334px":"320px"))}c.reposition()};this.set_style=function(g){if(!c.get_elements()){return false}if(c.last_style){c.o.removeClass(c.last_style)}if(g){c.o.addClass(g)}c.last_style=g;c.reposition()};this.set_short_message_style=function(g){c.use_short_message_style=g;if(!c.get_elements()){return false}c.o.removeClass("style_2009");if(g){c.o.removeClass("global_dialog");c.o.addClass("global-dialog-short-msg");if(c.is_modal){c.modal_remove_handler=c.o_cover.once("click",function(){c.hide()});c.modal_remove_key_handler=b.once("key",function(){if(!b.keyboardShortcutManager.isEnabled()){return}if(!this.esc_to_close){return}if(b.PageContext){b.PageContext.unset(b.PageContext.get())}c.hide()},window,"down:13,27")}}else{c.o.removeClass("global-dialog-short-msg");c.o.addClass("global_dialog")}c.reposition()};this.set_spinner=function(g){if(g){if(!c.spinner){c.spinner=document.createElement("div");c.spinner.className="global_dialog_spinner";document.body.appendChild(c.spinner);if(e){c.position_cover()}}c.spinner.style.display="block"}else{if(c.spinner){c.spinner.style.display="none"}}};this.set_modal=function(g){c.is_modal=g;if(!c.o_cover){return false}if(g){if(e){c.o_cover.setStyle("position","absolute");c.position_cover();c.attach_events()}else{c.o_cover.setStyle("position","fixed")}c.attach_key_events();var h=35;c.o_cover.setStyle("backgroundColor","#000");c.o_cover.setStyle("opacity",h/100);c.o_cover.setStyle("MozOpacity",h/100);c.o_cover.setStyle("filter","alpha(opacity="+h+")");c.o_cover.setStyle("display","block")}else{c.o_cover.setStyle("position","absolute");c.o_cover.setStyle("display","none");c.detach_events();c.detach_key_events()}};this.set_loading=function(g){if(!c.o_cover){return false}if(g){c.set_spinner(g);c.o_cover.removeClass("loaded");c.o_cover.addClass("loading");if(!c.is_modal){c.set_modal(true)}}else{c.set_spinner(g);c.o_cover.removeClass("loading");c.o_cover.addClass("loaded");if(c.is_modal){c.set_modal(false)}}};this.set_aria=function(g){if(!g||typeof g!=="object"){return}if(g["aria-labelledby"]){c.o.setAttribute("aria-labelledby",g["aria-labelledby"])}if(g["aria-describedby"]){c.o.setAttribute("aria-describedby",g["aria-describedby"])}};this.remove_existing_dialog=function(){if(c.o){try{c.o._node.parentNode.removeChild(c.o._node);c.o=null;return true}catch(g){return false}}};this.create_dialog=function(j,h){if(c.o){c.remove_existing_dialog();c.o=null}c.timestamp=(new Date()).getTime();c.last_style=null;c.is_showing=false;var i=document.createElement("div");document.body.appendChild(i);c.o=b.one(i);c.o.set("id","global_dialog");c.o.set("className","global_dialog");c.o.setAttribute("role","dialog");var g="";if(b.config.flickr.flags.enable_global_dialog_maximizer){b.log("assign maximizer handler");c.o.on("click",function(k){if(k.target.test(".global-dialog-admin-maximizer a")){k.preventDefault();c.o.addClass("global-dialog-maximized")}});g='<div class="global-dialog-admin-maximizer">admins only: <a href="#">maximize global dialog</a></div>'}c.o.set("innerHTML",'<div id="global-dialog-container" class="global_dialog_container"><div class="wrapper">'+j+"</div>"+g+"</div>");c.o_container=null;c.get_elements();if(h&&h.style){c.set_style(h.style)}else{c.set_style(c.style)}if(h&&h.width){c.set_width(h.width)}else{c.set_width()}return c};this.create_confirmation_dialog=function(h,s,p){var n,q,o,i,j,g,m,t,l,r,k;if(b.Lang.isObject(h)){n=b.Lang.isString(h.hd)?h.hd:"";q=b.Lang.isString(h.bd)?h.bd:"";o=b.Lang.isString(h.ft)?h.ft:""}else{q=b.Lang.isString(h)?h:""}i={CONFIRM:b.transjax.get("global-dialog","button_confirm"),CANCEL:b.transjax.get("global-dialog","button_cancel"),width:330,loading:false,modal:true,confirm_butt_class:"Butt",cancel_butt_class:"CancelButt",checkboxes:[],photo:{},scope:window};if(!b.Lang.isObject(p)){p={}}i=b.mix(p,i);t=b.guid();l=b.guid();j="";if(i.photo&&i.photo.url){j='<div class="photo_container"><img src="'+i.photo.url+'"'+(i.photo.width?' width="'+i.photo.width+'"':"")+(i.photo.height?' height="'+i.photo.height+'"':"")+"></div>"}g="";if(i.checkboxes.length){b.Array.each(i.checkboxes,function(u){g+='<div><label><input type="checkbox">&nbsp; '+u+"</label></div>"})}k=' <input type="button" class="'+i.confirm_butt_class+'" value="'+i.CONFIRM+'" id="'+t+'">';if(i.confirm_butt_class==="BigAssButt"){k=' <a href="#" class="'+i.confirm_butt_class+'" id="'+t+'"><span></span>'+i.CONFIRM+"</a>"}m=(n?'<div class="hd">'+n+"</div>":"")+'<div class="bd">'+q+j+g+'</div><div class="bd button_container confirmation_button_container">'+k+' <input type="button" class="'+i.cancel_butt_class+'" value="'+i.CANCEL+'" id="'+l+'"></div>'+(o?'<div class="ft">'+o+"</div>":"");b.global_dialog.remove_existing_dialog();b.global_dialog.create_dialog(m,i).show(i);r=b.delegate("click",function(v){var w,u;w=(v.target.get("id")===t);u={};if(i.checkboxes.length){u.checkboxes=[];c.o_container.all('input[type="checkbox"]').each(function(x){u.checkboxes.push(x.get("checked"))})}b.global_dialog.hide();if(b.Lang.isFunction(s)){s.apply(i.scope,[w,u])}v.preventDefault();r.detach()},c.o_container,'.button_container input[type="button"], .button_container a.BigAssButt')};this.create_alert_dialog=function(l,m,k){var h,j,i,g;h={CONFIRM:b.transjax.get("global-dialog","button_confirm"),width:330,loading:false,modal:true};if(!b.Lang.isObject(k)){k={}}h=b.mix(k,h);i=b.guid();j='<div class="hd">'+l+'</div><div class="bd button_container"> <input type="button" class="Butt" value="'+h.CONFIRM+'" id="'+i+'"></div>';b.global_dialog.remove_existing_dialog();b.global_dialog.create_dialog(j,h).show(h);b.delegate("click",function(){b.global_dialog.hide();if(b.Lang.isFunction(m)){m.apply(window,[true])}},this.o_container,"#"+i)};this.position_cover=function(h){var g,i;if(!h){h=b.one(c.o_cover)}c.get_elements();if(h){if(window.innerWidth){g=window.pageXOffset;i=window.pageYOffset}else{g=document.body.scrollLeft;i=document.body.scrollTop}h.setStyle("width","100%");h.setStyle("height",(b.one("body").get("offsetHeight"))+"px");h.setStyle("top",i+"px");h.setStyle("left",g+"px")}};this.legacy_resize_handler=function(){c.reposition();c.position_cover()};this.legacy_scroll_handler=function(){c.reposition();c.position_cover()};this.key_handler=function(h){if(!b.keyboardShortcutManager.isEnabled()){return}var g=h.which||h.keyCode;if(g===27){if(!this.esc_to_close){return}if(b.PageContext){b.PageContext.unset(b.PageContext.get())}c.hide()}};this.attach_events=function(){if(c.events_on){return false}c.events_on=true;if(!b.UA.ios){c.resize_event_handle=b.on("resize",c.legacy_resize_handler,window,c,true);c.scroll_event_handle=b.on("scroll",c.legacy_scroll_handler,window,c,true)}};this.attach_key_events=function(){c.key_event_handle=b.on("key",c.key_handler,window,"up:27",c,true)};this.detach_events=function(){if(!c.events_on){return false}c.events_on=false;if(c.resize_event_handle){c.resize_event_handle.detach()}if(c.scroll_event_handle){c.scroll_event_handle.detach()}};this.detach_key_events=function(){if(c.key_event_handle){c.key_event_handle.detach()}};this.get_elements()};b.global_dialog=new a()},"0.0.1",{requires:F.config.modules["global-dialog"].requires||[],optional:F.config.modules["global-dialog"].optional||[]});YUI.add("keyboard-shortcut-legend",function(c){var m=false,N="keyboard-shortcut-legend",L,E={},o=false,C=false,f,w,d=2000,x="keylayout",B,y,t,i,G,s,H,P=0,U=true,q=false,v,r=890,b=584,A=[],k=[c.transjax.get("keyboard-shortcut-legend","navigation"),c.transjax.get("keyboard-shortcut-legend","actions"),c.transjax.get("keyboard-shortcut-legend","lightbox"),c.transjax.get("keyboard-shortcut-legend","map"),c.transjax.get("keyboard-shortcut-legend","general")];function R(){c.all(".keyboard-shortcut-legend-trigger").on("click",J);B=c.Cookie.get(x)||u();m=true}function u(){var V="qwerty";if(c.config.flickr.flags.enable_keyboard_shortcut_legend_keyboard_layouts){if(c.config.flickr.lang==="de-de"){V="qwertz"}else{if(c.config.flickr.lang==="fr-fr"){V="azerty"}else{if(c.config.flickr.lang==="es-us"){V="spanish"}}}}return V}function J(X){var W=c.PageContext.get(),V={};if(o){O(X);return}y=c.keyboardShortcutLegendLayouts[B];if(W!==""&&W!=="lightbox"&&W!=="flickrMap"){c.PageContext.unset(W);W=c.PageContext.get()}c.Array.each(A,function(Y,Z){if(Y.context===W||Y.context==="*"){c.Array.each(k,function(ab,aa){if(Y.group===ab){if(!V[ab]){V[ab]=[]}V[ab].push(Y)}})}});c.Array.each(k,function(Z,Y){if(V[Z]){V[Z].sort(K)}});if(E[W+B]){L=E[W+B]}else{L='<div class="hd keyboard-shortcut-legend-hd"><h2 id="keyboard-shortcut-legend-header">'+c.transjax.get("keyboard-shortcut-legend","header_"+(W===""?"no_context":"context"))+'</h2><label class="killswitch-container"><span class="spinner">'+c.transjax.get("keyboard-shortcut-legend","saving")+'</span><span class="success"><span class="msg-icon"></span>'+c.transjax.get("keyboard-shortcut-legend","saved")+'</span><span class="alert"><span class="msg-icon"></span>'+c.transjax.get("keyboard-shortcut-legend","unable_to_save")+'</span><input type="checkbox" class="killswitch" tabindex="1" checked>'+c.transjax.get("keyboard-shortcut-legend","enable_shortcuts")+'</label><a href="#" class="keyboard-shortcut-legend-close"></a></div><div class="bd keyboard-shortcut-legend-bd '+B+'-layout"><p id="keyboard-shortcut-legend-instructions" class="obscured">'+c.transjax.get("keyboard-shortcut-legend","instructions")+"</p>";c.Array.each(y,function(Z,Y){L+='<ul class="keyboard-row row-'+Y+'">';c.Array.each(Z,function(aa){L+="<li"+(aa.className?' class="'+aa.className+'"':"")+' id="key-'+aa.keyCode+'"><span class="key-container"><a href="#" class="key-height" role="button" tabindex="-1"><span class="key">'+(aa.sup?'<span class="sup">'+aa.sup+"</span>":"")+(aa.sub?'<span class="sub">'+aa.sub+"</span>":"")+"</span></a></span></li>"});L+="</ul>"});if(c.config.flickr.flags.enable_keyboard_shortcut_legend_keyboard_layouts){L+='<div class="layout-tools"><span class="layout-description show"><span class="selected-layout">'+c.transjax.get("keyboard-shortcut-legend",B+"_layout")+'</span> (<a href="#" class="layout-change" role="button" tabindex="1">'+c.transjax.get("keyboard-shortcut-legend","change_layout")+'</a>)</span><span id="layout-selector-desc" class="obscured">'+c.transjax.get("keyboard-shortcut-legend","layout_selector_description")+'</span><select class="layout-selector" aria-label="layout-selector-desc"><option value="qwerty"'+(B==="qwerty"?" selected":"")+'>QWERTY</option><option value="spanish"'+(B==="spanish"?" selected":"")+">"+c.transjax.get("keyboard-shortcut-legend","spanish")+'</option><option value="qwertz"'+(B==="qwertz"?" selected":"")+'>QWERTZ</option><option value="azerty"'+(B==="azerty"?" selected":"")+'>AZERTY</option><option value="dvorak"'+(B==="dvorak"?" selected":"")+">Dvorak</option></select></div>"}L+='<hr><div class="shortcuts" role="document">';c.Array.each(k,function(Z,Y){if(V[Z]){L+='<div class="group"><h4>'+Z+"</h4><ul>";c.Array.each(V[Z],function(aa,ab){L+='<li id="shortcut-'+Y+"-"+ab+'"><kbd'+((aa.key==="&larr;"||aa.key==="&rarr;")?' class="arrow"':"")+">"+aa.key+'</kbd><span id="shortcut-'+Y+"-"+ab+'-desc">'+aa.description+"</span></li>"});L+="</ul></div>"}});L+='</div><div class="mask"></div></div>';E[W+B]=L}U=(c.DOM.winHeight()>b&&c.DOM.winWidth()>r);c.PageContext.set(N);c.global_dialog.remove_existing_dialog();c.global_dialog.create_dialog(L,{width:U?842:633}).show({loading:false,modal:true});c.global_dialog.set_aria({"aria-labelledby":"keyboard-shortcut-legend-header","aria-describedby":"keyboard-shortcut-legend-instructions"});o=true;f=c.one(".keyboard-shortcut-legend-hd .killswitch");f.set("checked",c.config.flickr.flags.enable_keyboard_shortcuts);if(q){q=false;c.one(".keyboard-shortcut-legend-bd .layout-tools .layout-change").focus()}else{f.focus()}h(f,true);if(!U){c.one(".keyboard-shortcut-legend-bd").addClass("mini");c.global_dialog.reposition()}c.Array.each(k,function(Z,Y){if(V[Z]){c.Array.each(V[Z],function(aa,ac){var ab=c.one("#shortcut-"+Y+"-"+ac),ad=false;c.Array.each(aa.keyCodes,function(af){var ae=c.one("#key-"+af);if(ae){ad=true;ae.addClass("highlight");ae.on(["focus","mouseover"],function(ag){z({blur:(ag.type==="mouseover")});ab.addClass("highlight")});ae.on(["blur","mouseout"],function(ag){z()});ab.on("mouseover",function(ag){z();ae.addClass("super-highlight")});ab.on("mouseout",function(ag){z()});ae.one("a.key-height").setAttribute("aria-describedby",ab.get("id")+"-desc")}});if(!ad){ab.remove()}})}});t=c.all(".keyboard-shortcut-legend-bd .keyboard-row li");i=c.all(".keyboard-shortcut-legend-bd .shortcuts li");c.once("click",O,".keyboard-shortcut-legend-close");c.keyboardShortcutManager.register({keystring:"27",handler:O,context:N});c.all(".keyboard-shortcut-legend-bd a.key-height").on("click",function(Y){Y.preventDefault()});c.all(".keyboard-shortcut-legend-hd .killswitch").on("click",function(Y){h(Y.target)});if(c.config.flickr.flags.enable_keyboard_shortcut_legend_keyboard_layouts){c.all(".keyboard-shortcut-legend-bd .layout-change").on("click",l);c.all(".keyboard-shortcut-legend-bd .layout-selector").on("change",g)}v=c.on("resize",c.betterThrottle(I,50));if(c.config.flickr.flags.enable_keyboard_shortcuts){H=true;c.keyboardShortcutManager.disable();e()}if(X&&X.preventDefault){X.preventDefault()}}function K(W,V){if(W.order>V.order){return 1}else{if(V.order>W.order){return -1}}return 0}function z(V){if(!V){V={}}if(V.blur&&s&&typeof s.blur==="function"){s.blur();s=null}t.removeClass("super-highlight");i.removeClass("highlight")}function I(W){var V=(c.DOM.winHeight()>b&&c.DOM.winWidth()>r);if(V!==U){O();J()}}function T(){S();c.one(".keyboard-shortcut-legend-hd .spinner").addClass("show");w=new Date().getTime()}function p(X){var V=new Date().getTime(),W=V-w;if(W>=d||!X){c.one(".keyboard-shortcut-legend-hd .spinner").removeClass("show");D(X)}else{setTimeout(function(){c.one(".keyboard-shortcut-legend-hd .spinner").removeClass("show");D(X)},d-W)}}function h(X,Y){var V=c.one(".keyboard-shortcut-legend-bd"),W=c.one(".keyboard-shortcut-legend-bd .mask");if(!Y){T()}if(X.get("checked")){if(W){W.setStyle("display","none")}if(!Y){Q(function(Z){p(Z);if(!Z){if(W){W.setStyle("display","block")}c.keyboardShortcutManager.disable();X.set("checked",false)}})}}else{W.setStyle("width",V.get("offsetWidth"));W.setStyle("height",V.get("offsetHeight"));W.setStyle("display","block");if(!Y){a(function(Z){p(Z);if(!Z){W.setStyle("display","none");c.keyboardShortcutManager.enable();X.set("checked",true)}})}}}function D(W){var V=c.one(W?".keyboard-shortcut-legend-hd .success":".keyboard-shortcut-legend-hd .alert");V.addClass("show");setTimeout(S,d)}function S(){c.all(".keyboard-shortcut-legend-hd .success, .keyboard-shortcut-legend-hd .alert").removeClass("show")}function Q(V){if(!V){V=function(){}}c.flickrAPI.callMethod("flickr.prefs.setPrefs",{disable_keyboard_shortcuts:0},{success:function(){C=false;H=true;e();V(true)},failure:function(){V(false)}})}function a(V){if(!V){V=function(){}}c.flickrAPI.callMethod("flickr.prefs.setPrefs",{disable_keyboard_shortcuts:1},{success:function(){C=true;H=false;M();V(true)},failure:function(){V(false)}})}function l(V){c.one(".keyboard-shortcut-legend-bd .layout-description").removeClass("show");c.one(".keyboard-shortcut-legend-bd .layout-selector").addClass("show").focus();if(V&&typeof V.preventDefault==="function"){V.preventDefault()}}function g(W){var V;B=W.target.get("value");V={domain:".flickr.com",path:"/",expires:(new Date((new Date()).getTime()+10*365*60*60*24*1000))};c.Cookie.set(x,B,V);q=true;O();J()}function n(W){var V;if(W.keyCode===32&&W.target.test(".keyboard-shortcut-legend-bd .layout-tools .layout-change")){l(W);return}else{if(c.focusTracker.isInput()||W.altKey||W.ctrlKey||W.metaKey||W.keyCode===9||c.one(".keyboard-shortcut-legend-bd .layout-tools").contains(W.target)){return}else{if(W.keyCode===27){P++}if(P>1){O();P=0;W.preventDefault();return}V=c.one("#key-"+W.keyCode);if(V){s=V.one("a.key-height");s.focus()}W.preventDefault()}}}function e(){G=c.on("key",n,"html","down:")}function M(){if(G&&typeof G.detach==="function"){G.detach()}}function O(V){c.global_dialog.remove_existing_dialog();c.global_dialog.hide();c.PageContext.unset(N);v.detach();M();if(H){c.keyboardShortcutManager.enable()}o=false;if(C){c.global_dialog.create_alert_dialog('<span class="reenable-msg">'+c.transjax.get("keyboard-shortcut-legend","you_can_reenable_shortcuts_in_prefs")+"</span>",c.global_dialog.hide,{width:280})}if(V&&V.preventDefault){V.preventDefault()}}function j(V){if(!m){R()}if(!V.context){V.context=""}if(!V.group){V.group=c.transjax.get("keyboard-shortcut-legend","general")}if(!V.order&&V.order!==0){V.order=50}A.push(V)}c.keyboardShortcutLegend={show:J,hide:O,register:j};j({keyCodes:[191,109],key:"?",description:c.transjax.get("keyboard-shortcut-legend","shortcut_description"),context:"*",order:0});j({keyCodes:[27],key:"esc",description:c.transjax.get("keyboard-shortcut-legend","esc_description")+' <span class="obscured">'+c.transjax.get("keyboard-shortcut-legend","esc_description_screenreader")+"</span>",context:"*",order:1})},"0.0.1",{requires:F.config.modules["keyboard-shortcut-legend"].requires||[],optional:F.config.modules["keyboard-shortcut-legend"].optional||[]});YUI.add("menus",function(e){var a={};function d(f){a[f.id]=new c(f);return a[f.id]}function b(){e.fire("flickr-menus:hide")}e.menus={add:d,hide:b};function c(f){c.superclass.constructor.apply(this,arguments)}c.NAME="Menu";c.ATTRS={id:{value:""},popover:{},context:{},button_node:{},constrain_node:{},open_on_hover:{value:false},hide_delay:{},scroll:{value:false},button_evt_listeners:{},click_to_hide_handle:{},escape_key_listener:{},use_touch_events:{value:("ontouchstart" in document.documentElement)},show_timer:{},hide_timer:{},hidden_prop:{value:""},onHide:{}};e.extend(c,e.Base,{initializer:function(f){this.set("scroll",f.scroll);this.set("id",f.id);this.set("popover",f.popover);this.set("context",f.context);if(f.button_node instanceof e.Node){this.set("button_node",f.button_node)}else{f.button_node=undefined;delete f.button_node}if(f.constrain_node instanceof e.Node){this.set("constrain_node",f.constrain_node)}else{f.constrain_node=undefined;delete f.constrain_node}e.on("flickr-menus:hide",function(g){if(g==="source:nav-selecta-container"){return}this.hide()},this);this.attachWindowHideHandler();this.attachButtonActionHandler();this.after("button_nodeChange",this.attachButtonActionHandler,this)},show:function(){if(this.get("popover").get("visible")){return false}if(this.get("button_node")){this.get("button_node").addClass("ActiveButt")}e.fire("flickr-menus:hide");if(this.get("button_node")){this.get("popover").alignToElement(this.get("button_node"),this.get("constrain_node")||e.one("#main"))}this.get("popover").show();e.PageContext.set(this.get("context"));e.later(20,this,function(){var g,f;if(!this.get("click_to_hide_handle")){g=e.one("body").on(this.get("use_touch_events")?"touchstart":"click",function(h){if(this.get("popover").get("boundingBox").contains(h.target)||!h.target.ancestor("body",true)){return}this.hide()},this);this.set("click_to_hide_handle",g)}if(!this.get("escape_key_listener")){f=e.keyboardShortcutManager.register({keystring:"27",handler:function(h){this.hide()},context:this.get("context"),scope:this});this.set("escape_key_listener",f)}});if(this.get("scroll")){e.one("#"+this.get("id")).vis.animScrollIntoView(true,40,true)}e.fire("menus:show")},hide:function(){if(!this.get("popover").get("visible")){return false}if(this.get("button_node")){this.get("button_node").removeClass("ActiveButt")}this.get("popover").hide();e.PageContext.unset(this.get("context"));if(this.get("escape_key_listener")){this.get("escape_key_listener").detach();this.set("escape_key_listener",undefined)}if(this.get("click_to_hide_handle")){this.get("click_to_hide_handle").detach();this.set("click_to_hide_handle",undefined)}e.fire("menus:hide");if(typeof this.get("onHide")==="function"){this.get("onHide")()}},toggle:function(){if(this.get("popover").get("visible")){this.hide()}else{this.show()}},attachButtonActionHandler:function(){var g,f,k,j,h=[];if(this.get("button_evt_listeners")){g=this.get("button_evt_listeners");for(f=g.length-1;f>=0;f--){g[f].detach()}this.set("button_evt_listeners",[])}if(this.get("open_on_hover")){j=function(i){if(i.currentTarget.hasClass("DisabledButt")){return}if(i.type==="mouseenter"&&i.currentTarget.hasClass("open")){var l=e.focusTracker.get();if(l.getDOMNode().tagName!=="BODY"){l.blur();this.show()}}if(i.type==="mouseenter"){this.show();return}if(i.type==="touchstart"){i.stopImmediatePropagation()}if(i.type==="mousemove"&&!i.currentTarget.hasClass("open")){this.show();return}if(i.type==="focus"&&document[this.get("hidden_prop")]){return}if(!i.currentTarget.hasClass("open")||i.type==="mouseleave"||i.type==="blur"){this.toggle();i.halt()}};h.push(this.get("button_node").on("focus",j,this));h.push(this.get("button_node").on("blur",j,this));if(this.get("use_touch_events")){h.push(this.get("button_node").on("touchstart",j,this))}h.push(this.get("button_node").on("mouseenter",j,this));h.push(this.get("button_node").on("mouseleave",j,this));h.push(this.get("button_node").once("mousemove",j,this))}else{k=function(l){l.preventDefault();if(l.currentTarget.hasClass("DisabledButt")){return}this.toggle();try{l.currentTarget.blur()}catch(i){}};h.push(this.get("button_node").on("click",k,this))}this.set("button_evt_listeners",h)},attachWindowHideHandler:function(){if(typeof document.hidden!=="undefined"){this.set("hidden_prop","hidden")}else{if(typeof document.mozHidden!=="undefined"){this.set("hidden_prop","mozHidden")}else{if(typeof document.msHidden!=="undefined"){this.set("hidden_prop","msHidden")}else{if(typeof document.webkitHidden!=="undefined"){this.set("hidden_prop","webkitHidden")}}}}}})},"0.0.1",{requires:F.config.modules.menus.requires||[],optional:F.config.modules.menus.optional||[]});YUI.add("global-nav",function(d){var l={banners:["#refresh-announcement","#subscription-announcement","#storage-announcement","#https-announcement","#groups-opt"],eyebrow:"#eyebrow",nav:"#global-nav",searchBox:"#gn-search-field",searchButt:"#global-nav .search-icon",menuParent:".gn-menu-parent",tools:".tools"},j={banners:[],eyebrow:null,nav:null,searchBox:null,searchButt:null,tools:null,menuParents:null},k={touch:"ontouchstart" in document.documentElement},g=null,f=null;var e=995;var a={node:{},visible:{value:false},boundingBox:{readOnly:true,getter:function(){return this.get("node")}}};var c=100;var i=function(q){q=q||{};this.addAttrs(d.clone(a,true),q)};i.prototype.show=function(){var q=this.get("node");this.set("visible",true);f=window.setTimeout(function(){q.addClass("open");f=null},c)};i.prototype.hide=function(){if(f){window.clearTimeout(f);f=null}this.get("node").removeClass("open");this.set("visible",false)};i.prototype.alignToElement=function(){};function p(){j.eyebrow=d.one(l.eyebrow);j.nav=d.one(l.nav);j.searchBox=d.one(l.searchBox);j.searchButt=d.one(l.searchButt);j.tools=d.one(l.tools);j.menuParents=j.nav.all(l.menuParent);for(var s=0,q=l.banners.length;s<q;s++){var r=d.one(l.banners[s]);if(r){j.banners.push(r)}}h();b();m();d.on("Liquid:resize",d.betterThrottle(function(t){m()},50));if(F.config.flickr.flags.enable_global_nav_upload_icon&&j.searchBox&&j.tools){j.searchBox.on("focus",o);j.searchBox.on("blur",n);j.searchBox.on("key",j.searchBox.blur,"down:27");if(d.config.doc.activeElement.isEqualNode(j.searchBox.getDOMNode())){j.searchBox.blur();j.searchBox.focus()}}}function o(){clearTimeout(g);j.tools.addClass("expanded")}function n(){if(j.searchBox.get("value").length===0){g=setTimeout(function(){j.tools.removeClass("expanded")},100)}}function b(){d.augment(i,d.Attribute);for(var s=0,q=j.menuParents.size();s<q;s++){var t=j.menuParents.item(s);var r="gn-menu-"+t.getData("context");d.menus.add({id:r,popover:new i({node:t}),context:r,button_node:t,open_on_hover:(t.getData("context")==="account")?false:true})}j.nav.removeClass("no-js")}function h(){if(!j.searchBox){return}j.searchBox.on(["focus","blur"],function(q){j.searchButt.toggleClass("focused",q.type==="focus")})}function m(){var s=false;if(k.touch||(document.body.offsetWidth&&document.body.offsetWidth<e)||(document.compatMode==="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth<e)||(window.innerWidth<e)){s=true}j.nav.toggleClass("scrolling-header",s);if(j.eyebrow){j.eyebrow.toggleClass("scrolling-header",s)}for(var r=0,q=j.banners.length;r<q;r++){j.banners[r].toggleClass("scrolling-header",s)}}d.globalNav={init:p}},"0.0.1",{requires:F.config.modules["global-nav"].requires||[],optional:F.config.modules["global-nav"].optional||[]});/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("querystring-parse-simple",function(e,t){var n=e.namespace("QueryString");n.parse=function(e,t,r){t=t||"&",r=r||"=";for(var i={},s=0,o=e.split(t),u=o.length,a;s<u;s++)a=o[s].split(r),a.length>0&&(i[n.unescape(a.shift())]=n.unescape(a.join(r)));return i},n.unescape=function(e){return decodeURIComponent(e.replace(/\+/g," "))}},"3.11.0",{requires:["yui-base"]});
if(YAHOO===void 0||!YAHOO)var YAHOO={};YAHOO.i13n=YAHOO.i13n||{},YAHOO.i13n.EventTypes=function(){function e(e,t,n){this.yqlid=e,this.eventName=t,this.spaceidPrefix=n}var t="richview",n="contentmodification";e.prototype={getYQLID:function(){return this.yqlid},getEventName:function(){return this.eventName}};var r={pageview:new e("pv","pageview",""),simple:new e("lv","event","P"),linkview:new e("lv","linkview","P"),richview:new e(t,t,"R"),contentmodification:new e(t,n,"R"),dwell:new e("lv","dwell","D")};return{getEventByName:function(e){return r[e]}}}(),YAHOO.i13n.Rapid=function(e){function t(){}function n(e){this.map={},this.count=0,e&&this.absorb(e)}function r(){this.map={},this.count=0}function o(e,t){if(!e)return null;null===t&&(t=!1);var n=new r,o=j.getAttribute(e,j.data_action_outcome);o&&n.set("outcm",o);var i=j.getAttribute(e,"data-ylk");if(null===i||0===i.length)return n;for(var a=i.split(j.ylk_pair_delim),c=0,u=a.length;u>c;c++){var s=a[c].split(j.ylk_kv_delim);if(2===s.length){var l=s[0],d=s[1];null!==l&&""!==l&&null!==d&&(d.length>j.MAX_VALUE_LENGTH&&(d=d.substring(0,j.MAX_VALUE_LENGTH)),8>=l.length&&j.MAX_VALUE_LENGTH>=d.length&&("_p"!==l||t)&&n.set(l,d))}}return n}function a(e,t,n){return t>e?t:e>n?n:e}function c(t){Y.set("A_sid",YAHOO.i13n.A_SID||j.rand()),Y.set("_w",j.rmProto(window.location.href).substring(0,j.MAX_VALUE_LENGTH)),t?Y.absorb(t):e.keys&&Y.absorb(e.keys)}function u(e){var t=YAHOO.i13n,n=YAHOO.i13n.TEST_ID||e.test_id,r=document.location+"";c(e.keys),n&&(n=j.norm(""+n));var o=300,i=700,u={version:"3.18.5",keys:Y,getReferrer:function(){return j.norm(j.clref(e.referrer||document.referrer))},spaceid:j.norm(YAHOO.i13n.SPACEID||e.spaceid),yrid:j.norm(e.yrid||""),oo:e.oo?"1":"0",nol:e.nol?"1":"0",yql_enabled:e.yql_enabled!==!1,ywa:e.ywa||null,ywa_dpid:null,ywa_cf_override:t.YWA_CF_MAP||{},ywa_action_map:t.YWA_ACTION_MAP||{},ywa_outcome_map:t.YWA_OUTCOME_MAP||{},fing:1==e.use_fing,USE_RAPID:e.use_rapid!==!1,linktrack_attribut:e.lt_attr||"text",tracked_mods:e.tracked_mods||[],lt_attr:e.lt_attr||"text",client_only:e.client_only,text_link_len:e.text_link_len||-1,test_id:n,yql_host:e.yql_host||"geo.query.yahoo.com",yql_path:e.yql_path||"/v1/public/yql",compr_timeout:e.compr_timeout||i,compr_on:e.compr_on!==!1,compr_type:e.compr_type||"deflate",webworker_file:YAHOO.i13n.WEBWORKER_FILE||e.webworker_file||"rapidworker-1.1.js",nofollow_classname:e.nofollow_class||"rapidnofollow",no_click_listen:e.rapid_noclick_resp||"rapid-noclick-resp",nonanchor_track_class:e.nonanchor_track_class||"rapid-nonanchor-lt",anc_pos_attr:"data-rapid_p",deb:e.debug===!0,ldbg:r.indexOf("yhldebug=1")>0,addmod_timeout:e.addmodules_timeout||300,ult_token_capture:"boolean"==typeof e.ult_token_capture?e.ult_token_capture:!1,track_type:e.track_type||"data-tracktype",dwell_on:e.dwell_on!==!1,async_all_clicks:e.async_all_clicks===!0,click_postmsg:e.click_postmsg||{},apv:e.apv!==!1,apv_time:e.apv_time||1e3,apv_px:e.apv_px||500,ex:e.ex===!0,persist_asid:e.persist_asid===!0,track_right_click:e.track_right_click===!0,gen_bcookie:e.gen_bcookie===!0,skip_attr:e.skip_attr||"data-rapid-skip",parse_dom:e.parse_dom===!0,pageview_on_init:e.pageview_on_init!==!1};u.ywa_action_map[YAHOO.i13n.EventTypes.getEventByName("richview").getEventName()]=100,!u.ywa||u.ywa.project_id&&0!=u.ywa.project_id&&j.isNumeric(u.ywa.project_id)||(f("Invalid YWA project id: null or not numeric."),u.ywa=null);var s=1*u.compr_timeout;u.compr_timeout=j.isNum(s)?a(s,o,i):i;var l=1*e.click_timeout,d=500;return u.click_timeout=j.isNum(l)?l:d,u}function s(){Y.set("A_sid",j.rand())}function l(){return"Rapid-"+W.version+"("+(new Date).getTime()+"):"}function d(e){console.warn("RAPID WARNING: "+e)}function f(e){console.error("RAPID ERROR: "+e)}function p(e){W.ldbg&&console.log(l()+e)}function v(){var e=document.cookie;if(this.cookieMap={},/[^=]+=[^=;]?(?:; [^=]+=[^=]?)?/.test(e))for(var t=e.split(/;\s/g),n=null,r=null,o=null,i=0,a=t.length;a>i;i++){if(o=t[i].match(/([^=]+)=/i),o instanceof Array)try{n=j.dec(o[1]),r=j.dec(t[i].substring(o[1].length+1))}catch(c){f(c)}else n=j.dec(t[i]),r=n;("B"===n||"BX"===n||"TT"===n||W.ywa&&n==="fpc"+W.ywa.project_id||"fpc"===n||"ywandp"===n||0===n.indexOf("ywadp")||"D"===n)&&(this.cookieMap[n]=r)}}function m(){if(W.ult_token_capture&&YAHOO.i13n.__handled_ult_tokens__!==!0){YAHOO.i13n.__handled_ult_tokens__=!0;var e=window.document.location+"";if(e.match(/;_yl[a-z]{1}=/))W.ldbg&&p("Found ULT Token on URL."),q.sendGeoT(e);else{var t=new v,n=t.getCookieByName("D");n&&(j.clearCookie("D","/",".yahoo.com"),q.sendGeoT(n))}}}function h(){return Math.floor((new Date).valueOf()/1e3)}function _(e,t,n){var r=new Date,o="";r.setTime(r.getTime()+1e3*n),o="; expires="+r.toGMTString();var i=e+"="+t+o+"; path=/";document.cookie=i}function g(){return""+Math.floor(4294967295*Math.random())}function y(e){var t,n=[];for(t in e)e[t]&&n.push(t+":"+e[t]);return encodeURIComponent(n.join(";"))}function w(e,t){e=e||"";var n=decodeURIComponent(e).split(";"),r={};for(i=0,excl=n.length;excl>i;i++){var o=n[i].split(":");r[o[0]]=o[1]}return t?r[t]:r}function b(){function e(e){var t="cf";return t+=10>e&&"0"!==(""+e).charAt(0)?"0"+e:e}function t(){void 0!==window.ITTs&&j.isArr(window.ITTs)&&0!==window.ITTs.length||(window.ITTs=[{}]),window.ITTs[0].setFPCookies||(window.ITTs[0].setFPCookies=function(){var e="fpc",t=new v,n=w(t.getCookieByName(e));n[W.ywa.project_id]=window.ITTs[0].FPCV,_(e,y(n),31536e3);var r=t.getCookieByName(e+W.ywa.project_id);r&&j.clearCookie(e+W.ywa.project_id)})}function r(e,t,n,r){W.ldbg&&p(e);var o=new Image,i=null;o.onload=o.onabort=o.onerror=function(){t&&n?t[n]=1:r&&(clearTimeout(i),r.call(null))},o.src=e,r&&(i=setTimeout(function(){r.call(null)},W.click_timeout)),setTimeout(function(){o=null},1e5)}function o(e,t){for(var n in e)if(j.hasOwn(e,n)){var r=W.ywa_cf_override[n];r&&(t[r]=e[n])}}function i(n,r,i,a,c,u,s){function l(e,t){var n=t?"%3B":";";return e+(i?n+e:"")}var d=new v,p=d.getYWAFPC();d.getYWADPID(),a=a||{},"c"!==n&&t();var m=[j.curProto(),W.ywa.host||"a.analytics.yahoo.com","/fpc.pl?"],_=W.ywa.project_id,g=W.ywa.document_group,y={};W.test_id&&(y["14"]=W.test_id);var w=["_cb="+j.rand(),".ys="+W.spaceid,"a="+_,"b="+j.enc(W.ywa.document_name||document.title),"d="+j.enc(new Date),"f="+j.enc(window.location.href),"j="+j.sr("x"),"k="+j.cold(),"t="+h(),"l=true"];if(s)for(var b in s)j.hasOwn(s,b)&&w.push(b+"="+j.enc(s[b]));if(g&&""!==g&&w.push("c="+j.enc(g)),W.ywa_dpid&&w.push("dpid="+W.ywa_dpid),"c"===n){a.x=12;var k="12";i&&(k=j.enc(k+";"+i)),w.splice(0,0,"x="+k)}else"e"===n&&w.push("x="+r+(i?";"+i:""));p&&w.push("fpc="+j.enc(p));var A=W.ywa.member_id;A&&w.push("m="+A),""!==W.getReferrer()&&w.push("e="+j.enc(W.getReferrer()));var E={};j.aug(E,C().getAll()),j.aug(E,u),o(E,y),j.hasOwn(E,"A_apv")&&(y["15"]=E.A_apv),"e"===n&&c&&o(c,y);var T=W.ywa.cf;j.aug(y,T,function(e){return!j.isResCF(e)});for(var O in y)j.hasOwn(y,O)&&w.push(e(O)+"="+l(j.enc(y[O]),1));if(("e"===n||"c"===n)&&w.push("ca=1"),"p"!==n&&w.push("resp=img"),"c"===n)for(var L in a)if(j.hasOwn(a,L)&&"x"!==L){var M=a[L];try{M=j.enc(l(M)),j.isSafari&&(M=M.replace(/'/g,"%27"))}catch(x){f(x)}w.push(e(L)+"="+M)}return m.join("")+w.join("&")}function a(){return"rapid_if_"+j.rand()}function c(e){var t="display:none;";!j.isIE||6!==j.ieV&&7!==j.ieV&&8!==j.ieV?j.sa(e,"style",t):e.style.setAttribute("cssText",t,0)}function u(e){var t=null;if(j.isIE&&8>=j.ieV){var n="";j.isSecure()&&6==j.ieV&&(n='src="https://geo.yahoo.com/b.html"'),t=document.createElement("<iframe "+n+' name="'+e+'"></iframe>')}else t=document.createElement("iframe");return t.name=e,t}function s(){setTimeout(function(){var e=u("");j.addEvent(e,"load",function(){j.rmBodyEl(e)}),j.appBodyEl(e)},1)}function l(e,t){var n=null,r=j.make("form"),o=j.make("input"),i=a(),l=a(),d="application/x-www-form-urlencoded;charset=UTF-8";n=u(i),c(n),c(r),r.id=l,r.method="POST",r.action=m(t),r.target=i,j.isIE&&7>=j.ieV?r.setAttribute("enctype",d):(r.setAttribute("enctype",d),r.setAttribute("encoding",d)),o.name="q",o.value=e,j.isIE&&j.ieV>=10&&(o.type="submit"),r.appendChild(o);var f="load",v=function(){var e="";if(W.ldbg&&(!j.isIE||j.ieV>=9)){var t=n.contentDocument||n.contentWindow.document;e=t.body.innerHTML}j.rmEvent(n,f,v),setTimeout(function(){j.rmBodyEl(n),j.rmBodyEl(r)},0),W.ldbg&&p("iframe resp: "+e),j.isIE&&7>=j.ieV&&s()};j.addEvent(n,f,v),j.appBodyEl(n),j.appBodyEl(r),r.submit()}function m(e){var t=W.deb,n=j.rand(),r=[j.curProto(),W.yql_host,W.yql_path,"?yhlVer=2&yhlClient=rapid&yhlS=",W.spaceid,t===!0?"&yhlEnv=staging":"",t===!0||W.ldbg?"&debug=true&diagnostics=true":"",j.isIE&&j.ieV?"&yhlUA=ie"+j.ieV:"",j.isIE&&8==j.ieV?"&format=json":"","&yhlCT=2","&yhlBTMS=",(new Date).valueOf(),"&yhlClientVer=",W.version,"&yhlRnd=",n,"&yhlCompressed=",e||0,W.gen_bcookie?"&yhlBcookie=1":""].join("");return W.ldbg&&p(r),r}function g(e,t){var n=j.getXHR(),r=m(t);n.open("POST",r,!0),n.withCredentials=!0,n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),W.ldbg&&(n.onreadystatechange=function(){4===n.readyState&&p(n.status+":xhr response: "+n.responseText)}),n.send(e)}function b(e,t,n){var r={};return j.isObj(e)?(j.aug(r,e,n),r):r}function k(e,t){var n={m:j.norm(e.moduleName),l:[]};e.moduleYLK&&(n.ylk=e.moduleYLK.getAll());for(var r=e.links,o=function(e){var n="_p"===e;return t&&n?!0:"sec"!==e&&!n},i=0,a=r.length;a>i;i++)n.l.push(b(r[i],t,o));return n}function A(e,t){var n=[],r=null;for(var o in e)if(j.hasOwn(e,o)&&(r=e[o])){var i=k(r,t);i.l.length>0?n.push(i):W.ldbg&&p('Not capturing 0 links mod: "'+r.moduleName+'"')}return n}function E(e,t){return e?"pv":t&&t.event?t.event.type.getYQLID():"lv"}function T(e,t,n,r,o){return[{t:E(t,o),s:W.spaceid,pp:C(t,r).getAll(),_ts:h(),lv:A(e,n)}]}function C(e,t){var r=n.makeFromPP(W.keys);return r.absorb(t),e&&r.set("A_",1),r}function O(e,t,n){var r="select * from x where a = '"+e+"'";return(t?"q=":"")+(n?j.enc(r):r)}function L(e){var t={bp:H(),r:e.call(0),yrid:W.yrid,optout:W.oo,nol:W.nol};return j.toJSON(t)}function M(e,t,n){var r={};n.event&&j.aug(r,n.event.data),n.pp&&j.aug(r,n.pp);var o=L(function(){return T([e],t,!0,r,n)});D(o,t)}function x(e,t,n,r){var o=L(function(){return T(e,t,!1,n,r)});D(o)}function I(e){return e.identifier}function D(e){function t(e,t){0===t&&(e=e.replace(/'/g,"\\'")),r&&p("body: "+e),j.hasCORS()?(o=O(e,!0,!0),g(o,t)):(o=O(e,0,0),l(o,t))}function n(){c||(c=!0,t(e,0),r&&p("sent in failSend"))}var r=W.ldbg,o="",i=U[W.compr_type];if(W.compr_on&&j.hasWorkers()&&i>1&&e.length>2048){r&&p("Looking for worker:"+W.webworker_file+", compr timeout:"+W.compr_timeout);var a=new Worker(W.webworker_file),c=!1,u=null,s=0;a.onerror=function(e){clearTimeout(u),n(),d(e.message),a.terminate()},a.onmessage=function(n){clearTimeout(u);var o=j.tms();c||(c=!0,t(n.data,i)),r&&p("Ratio ("+n.data.length+"/"+e.length+"): "+(100*n.data.length/e.length).toFixed(2)+"% -> C_T: "+(o-s)+" ms ("+o+"-"+s+")"),a.terminate()},r&&p("posting to worker: "+e),s=j.tms(),a.postMessage({type:i,json:e}),u=setTimeout(function(){n(),a.terminate()},W.compr_timeout)}else t(e,0)}function N(e,t,n){return j.curProto()+Y+"/"+e+["?s="+(n?n:W.spaceid),"t="+j.rand()+","+Math.random(),"_I="+W.yrid,"_AO="+W.oo,"_NOL="+W.nol,"_R="+j.enc(W.getReferrer()),("c"===e?"_K=":"_P=")+P(t)].join("&")}function P(e){var t=new n(H(!1));return t.absorb(W.keys.getAll()),t.set("_ts",h()),e&&(e instanceof n?t.absorb(e.getAll()):f("Internal error in buildGeoPP: not PP type")),W.version+"%05"+t.ser()}function S(e){var t=[N("c")+"&_C="+j.ser(e.data)];return t.join("&")}function R(e,t){var n=e[t];return n&&j.isNum(n)&&n>=0?n:null}function V(e){var t=j.getAttribute(e,j.DATA_ACTION),n=j.getAttribute(e,j.data_action_outcome);return null!==t?R(W.ywa_action_map,t):null!==n?R(W.ywa_outcome_map,n):null}var Y=YAHOO.i13n.beacon_server||"geo.yahoo.com",H=function(e){var t={_pl:1,A_v:W.version},n=W.getReferrer();return n&&e!==!1&&(t._R=n.substring(0,j.MAX_VALUE_LENGTH)),W.test_id&&(t.test=W.test_id),W.ex&&(t._ex=1),t._bt||(t._bt="rapid"),t},q=function(){var e=null,t=[],n=0,r=W.addmod_timeout;return function(o,i,a,c){clearTimeout(e);var u=+new Date-n;if(t=j.uniqConcat(t,o,I),u>r)n=+new Date,x(t,i,a,c),t=[];else{var s=r-u;e=setTimeout(function(){W.ldbg&&p("queueing send in addMods"),x(t,i,a,c),t=[]},s)}}}();return{sendGeoT:function(e){var t=[j.curProto(),Y,"/t?",e].join("");r(t)},sendGeoPV:function(){r(N("b"))},sendRapidNoDelay:function(e,t,o,i,a){if(!W.yql_enabled||a){var c=null;o&&(c=new n(o)),r(N(t?"b":"p",c))}else x(e,t,o,i)},sendRapid:function(e,t,n,r){q(e,t,n,r)},sendRefreshedContent:M,sendYWAEvent:function(e){var t=null,n=null,o=e.name;W.ywa_action_map&&o&&(t=R(W.ywa_action_map,o)),null!==t&&(W.ywa_outcome_map&&e.outcome&&(n=R(W.ywa_outcome_map,e.outcome)),r(i("e",t,n,null,e.data)))},sendULTEvent:function(e,t){var o={};e&&e.data&&(o=e.data);var i=N("p",new n(o),t||0);e.type&&(i+="&_V="+e.type.spaceidPrefix),r(i)},sendDwell:function(e){this.sendULTEvent(e,e.data.s)},sendEvents:function(e){W.USE_RAPID&&this.sendULTEvent(e),W.ywa&&this.sendYWAEvent(e)},sendClick:function(e){var t=null,n="",a="",c=null,u=!1,s=null;if(W.USE_RAPID&&(n=S(e)),W.ywa){var l=e.data,d=e.targetElement,f={18:l.sec,19:l.slk,20:l._p};"A_cl"in l&&(f["130"]=l.A_cl),c=d?V(d):R(W.ywa_outcome_map,e.outcome),W.ywa_cf_override&&o(l,f),a=i("c",0,c,f)}if(W.async_all_clicks||!e.synch)return n&&r(n),a&&r(a),void 0;if(j.prevDef(e.event),t=function(){if(!u){u=!0;var t=e.targetElement.href;if(W.click_postmsg.origin){var n=W.click_postmsg.window||top,r=W.click_postmsg.payload||{};r.href=t,n.postMessage(j.toJSON(r),W.click_postmsg.origin)}else e.hasTargetTop?top.document.location=t:document.location=t}},W.USE_RAPID)if(W.ywa){var p=new Image,v=new Image,m=0;p.onload=p.onerror=p.onabort=v.onload=v.onerror=v.onabort=function(){2===++m&&(clearTimeout(s),t())},p.src=n,v.src=a,s=setTimeout(t,W.click_timeout),setTimeout(function(){p=null,v=null},1e5)}else r(n,0,0,t);else W.ywa&&r(a,0,0,t)},sendYWAPV:function(e){function t(){r[0].removeChild(a)}var n=i("p",0,0,0,0,e),r=document.getElementsByTagName("head"),o="true";if(0!==r.length){var a=j.make("script",{defer:o,async:o,type:"text/javascript",src:n});j.isIE?a.onreadystatechange=function(){var e=this.readyState;("loaded"===e||"complete"===e)&&(a.onload=a.onreadystatechange=null,t())}:j.isWebkit?a.addEventListener("load",t):a.onload=t,r[0].appendChild(a)}},sendInternalSearch:function(e,t){e=e||"",j.isNum(t)||(t=0);var n={isk:e,isr:t},o=i("e","INTERNAL_SEARCH",null,null,null,null,n);r(o)},sendYWAECommerce:function(e,t){var n={},o={PRODUCT_VIEW:1,ADD_TO_CART:1,CANCELLED_SALE:1,PENDING_SALE:1,SALE:1},a={amount:"xa",orderId:"oc",tax:"xt",shipping:"xs",discount:"xd",sku:"p",units:"q",amounts:"r"};if(!(e in o))return f("invalid YWA ecommerce action: "+e),void 0;for(var c in t)if(j.hasOwn(t,c)&&c in a){var u=a[c];n[u]=t[c]}"SALE"===e&&(e=1);var s=i("e",e,null,null,null,null,n);r(s)}}}function k(e,t,n,r,i,a){var c="",u=null,s={sec:t,_p:n};return a?(s.slk=i||"section",u=o(r)):(r.setAttribute(W.anc_pos_attr,n),c=j.getLT(r,e),c&&""!==c?u=o(r):c="_ELINK_",s.slk=c),null!==u&&j.aug(s,u.getAll()),s}function A(){var e={};return{addModule:function(t,n){e[j.norm(t)]=n},addModules:function(e){var t=j.isArr(e),n=[];t||j.isStr(e)&&(e=Array(e),t=!0);for(var r in e)if(j.hasOwn(e,r)){var o=t?e[r]:r,i=j.trim(e[r]);if(this.exists(o))f('addModules() called with prev processed id:"'+o+'"');else{var a=N(i,o);a&&(this.addModule(o,a),n.push(a))}}return n},getModules:function(){return e},refreshModule:function(t,n,r,o){var i=e[j.norm(t)];i?i.refreshModule(t,n,r,o):f("refreshModule called on unknown section: "+i)},removeModule:function(t){var n=e[j.norm(t)];n&&(n.removeHandlers(),delete e[t])},destroy:function(){for(var t in e)j.hasOwn(e,t)&&this.removeModule(t);e={}},exists:function(t){return e[j.norm(t)]}}}function E(e,t){return j.hasClass(e,"rapid_track_href")?"href":j.hasClass(e,"rapid_track_text")?"text":j.hasClass(e,"rapid_track_title")?"title":j.hasClass(e,"rapid_track_id")?"id":t}function T(e){return"input"===e.nodeName.toLowerCase()&&"submit"===j.getAttribute(e,"type")}function C(e,t){var n=M(e,t);X=n,n&&q.sendClick(n)}function O(e,t,n){var r=j.getAttribute;return t.target&&"_blank"===t.target.toLowerCase()||2===e.which||4===e.button||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||"on"===r(t,"data-nofollow")||r(t,"href")&&"javascript:"===r(t,"href").substr(0,11).toLowerCase()||j.hasClass(t,W.nofollow_classname)||j.hasClass(n,W.nofollow_classname)}function L(e,t,n,r){n=n||{};var o=null;return e?(o=YAHOO.i13n.EventTypes.getEventByName(e),n._E=o.getEventName(),t=n._E):n._E=t||"_",r&&(n.outcm=r),{type:o,name:t,data:n,outcome:r}}function M(e,t){e=e||event;for(var n=j.getTarget(e),r="button",i="input",a="",c=!1,u=null;n&&(a=n.nodeName.toLowerCase())&&"a"!==a&&a!==r&&!T(n)&&!j.hasClass(n,W.nonanchor_track_class);)n=n.parentNode;if(!n||j.hasClass(n,W.no_click_listen))return 0;if(j.hasClass(n,W.nonanchor_track_class)){u={pos:0,sec:t.moduleName,slk:"_"};var s=o(n,1);s&&j.aug(u,s.getAll())}else{var l=j.getAttribute(n,W.anc_pos_attr);if(u=t.getLinkAtPos(l),!u)return 0;a===i||a===r||O(e,n,t.moduleElement)||(c=!0)}if(!u.tar){var d=j.getAttribute(n,"href");d&&(u.tar=j.extDomain(d)),d&&u.tar||(u.tar=j.extDomain(window.document.location+""))}u.tar_uri||(u.tar_uri=n.pathname?n.pathname.substring(0,j.MAX_VALUE_LENGTH):"");var f=t.moduleYLK;if(f){var p=f.getAll();j.aug(u,p,function(e){return!(e in u)})}return u.A_xy=j.xy(e),u.A_sr=j.sr(),"contextmenu"==e.type&&(u.A_cl=3,c=!1),{data:u,event:e,moduleElement:t.moduleElement,targetElement:n,synch:c,hasTargetTop:n&&n.target&&"_top"===n.target.toLowerCase()}}function x(e,t,n,r,o){var i={};return j.aug(i,r),i.sec=e,i.slk=t,i._p=n,{data:i,outcome:o,event:null,moduleElement:null,targetElement:null,synch:!1,hasTargetTop:!1}}function I(e,t,n){t||(t=document);for(var r=e.split(","),o=[],i=0,a=r.length;a>i;i++)for(var c=t.getElementsByTagName(r[i]),u=0,s=c.length;s>u;u++){var l=c[u];(!n||n.call(0,l))&&o.push(l)}var d=o[0];return d?(d.sourceIndex?o.sort(function(e,t){return e.sourceIndex-t.sourceIndex}):d.compareDocumentPosition&&o.sort(function(e,t){return 3-(6&e.compareDocumentPosition(t))}),o):[]}function D(e,t,n,r){t||(t=document);var o=e.split(",");n=n||[];var i=t.childNodes;if("true"!==j.getAttribute(t,W.skip_attr))for(var a=0,c=i.length;c>a;a++){var u=i[a];j.isTagOfInterest(u,o)&&(!r||r.call(0,u))&&n.push(u),"true"!==j.getAttribute(u,W.skip_attr)?D(e,u,n,r):"true"===j.getAttribute(u,W.skip_attr)&&n.push(u)}var s=n[0];return s?(s.sourceIndex?n.sort(function(e,t){return e.sourceIndex-t.sourceIndex}):s.compareDocumentPosition&&n.sort(function(e,t){return 3-(6&e.compareDocumentPosition(t))}),n):[]}function N(e,t){function n(t,n){var i=[];n=n||1;for(var u=0,l=t.length;l>u;u++)if("div"===t[u].tagName.toLowerCase()){var d=t[u],f=o(d),p=k(s,e,1,d,f.map.slk||a.map.slk,!0);c.push(p),i.push(p)}else{var p=k(s,e,n++,t[u]);c.push(p),i.push(p)}if("true"===j.getAttribute(r,W.skip_attr)){var p=k(s,e,1,d,a.map.slk,!0);c.push(p),i.push(p)}return i}var r=document.getElementById(t),i="a,button,input";if(!r)return d("Specified module not in DOM: "+t),null;var a=o(r),c=[],u=W.parse_dom?D(i,r):I(i,r),s=E(r,W.lt_attr),l=u.length,f=j.getAttribute(r,W.track_type);n(u);var v={moduleYLK:a,links:c,moduleName:e,trackType:f,moduleElement:r,refreshModule:function(e,t,r,o){function a(e){return!j.getAttribute(e,W.anc_pos_attr)}var c=W.parse_dom?D(i,document.getElementById(e),null,a):I(i,document.getElementById(e),a);if(t===!0||c.length>0){var u=n(c,l+1);if(l+=c.length,W.USE_RAPID||o.event){var s={};j.aug(s,this),s.links=u,(t===!0||r)&&q.sendRefreshedContent(s,t,o)}}else j.ldbg&&p("refreshModule("+e+") - no new links.");t===!0&&(W.ywa&&q.sendYWAPV(o.pp),W.apv&&B&&B.reInit())},removeHandlers:function(){j.rmEvent(r,"click",m),W.track_right_click&&j.rmEvent(r,"contextmenu",m)},getLinkAtPos:function(e){return e>c.length?null:c[e-1]},identifier:t},m=function(e){C(e,v)};return j.addEvent(r,"click",m),W.track_right_click&&j.addEvent(r,"contextmenu",m),v}function P(e,t,r){if(W.ldbg&&p("beaconPageview called, pp="+j.fData(e)),t&&!W.persist_asid&&s(),W.USE_RAPID&&q.sendRapidNoDelay([],!0,e,null,r),W.ywa){var o=n.makeFromPP(W.keys);o.absorb(e),q.sendYWAPV(o.getAll())}W.apv&&null!=B&&B.reInit()}function S(){var e=null,t=function(){var e=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return e},n=lastApvTime=(new Date).getTime(),r=t(),o=-1,i=function(){var e=t(),n=-1===o?e-r:e-o,i=n>0?0:1;if(Math.abs(n)>W.apv_px){var a={A_apv:1,A_apx:e,A_asd:i};P(a,!1,!0),o=e,lastApvTime=(new Date).getTime()}},a=function(){null!=e&&clearTimeout(e);var o=(new Date).getTime();W.apv_time>o-n&&(r=t(),lastApvTime=o),e=setTimeout(function(){i()},W.apv_time)};j.addEvent(window,"scroll",a),this.reInit=function(){r=t(),o=-1,n=lastApvTime=(new Date).getTime()},this.destroy=function(){j.rmEvent(window,"scroll",a)}}function R(){m(),W.ldbg&&p("tracked_mods: "+j.fData(W.tracked_mods));var e=H.addModules(W.tracked_mods);W.USE_RAPID&&W.pageview_on_init&&q.sendRapidNoDelay(e,1==W.client_only),W.ywa&&W.pageview_on_init&&q.sendYWAPV(),W.apv&&j.executeOnLoad(function(){B=new S})}function V(e){var t=navigator.userAgent,n=Object.prototype,r=t.match(/MSIE\s[^;]*/)||t.match(/Trident\/[^;]*/)?1:0,o=/KHTML/.test(t)?1:0,i=null!==t.match(/(iPhone|iPad|iPod)/gi),a=(t.indexOf("android")>-1,i&&null!==t.match(/AppleWebKit/)),c=null!==t.match(/AppleWebKit/)&&null===t.match(/Chrome/),u=RegExp(/\ufeff|\uffef|[\u0000-\u001f]|[\ue000-\uf8ff]/g),s=RegExp(/[\u007f-\u00a0]|\s{2,}/g),l="http://",p="https://",v="class",m=" ",h=300,_=-1,g="https:"===window.location.protocol;return r&&(_=navigator.appVersion.match(/MSIE/)?parseFloat(navigator.appVersion.split("MSIE")[1]):parseFloat(navigator.appVersion.split("; rv:")[1])),{ca:"%01",cb:"%02",cc:"%03",cd:"%04",ce:"%05",cf:"%06",cg:"%07",ch:"%08",ylk_kv_delim:e.ylk_kv_delim||":",ylk_pair_delim:e.ylk_pair_delim||";",DATA_ACTION:"data-action",data_action_outcome:"data-action-outcome",isIE:r,isIOSSafari:a,isSafari:c,isWebkit:o,ieV:_,MAX_VALUE_LENGTH:h,hasOwn:function(e,t){return n.hasOwnProperty.call(e,t)},enc:encodeURIComponent,dec:decodeURIComponent,curProto:function(){return g?p:l},isSecure:function(){return g},strip:function(e){for(var t={"/":"P",";":"1","?":"P","&":"1","#":"P"},n={url:e,clean:"",cookie:"",keys:[]},r=0;-1!==e.indexOf("_yl",r);){var o=e.indexOf("_yl",r);if(o>r&&(n.clean+=e.slice(r,o-1)),r=o+3,t[e.charAt(o-1)]&&"="===e.charAt(o+4)){n.ult=1;var i="_yl"+e.charAt(o+3),a="";for(o+=5;e.length>o&&!t[e.charAt(o)];o++)a+=e.charAt(o);n.keys.push(i),n[i]=a,"_ylv"!==i&&(n.cookie+="&"+i+"="+a),t[e.charAt(o)]&&"P"===t[e.charAt(o)]&&(n.clean+=e.charAt(o)),r=o+1}else n.clean+=e.slice(o-1,r)}return n.ult&&(n.cookie=n.cookie.substr(1),n.clean+=e.substr(r),"0"===n._ylv),n},prevDef:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},appBodyEl:function(e){document.body.appendChild(e)},rmBodyEl:function(e){document.body.removeChild(e)},sa:function(e,t,n){e.setAttribute(t,n)},make:function(e,t){var n=document.createElement(e);if(t&&this.isObj(t))for(var r in t)this.sa(n,r,t[r]);return n},getXHR:function(){function e(){for(var e=!1,n=t.length,r=0;n>r;r++){try{e=t[r]()}catch(o){continue}break}return e}var t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];return e()},hasLS:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},hasCORS:function(){return r&&10>_?!1:"withCredentials"in new XMLHttpRequest?!0:"undefined"!=typeof XDomainRequest?!0:!1},hasWorkers:function(){return!!window.Worker},clearCookie:function(e,t,n){t=t?t:"/",n=n?n:"",document.cookie=e+"= ; path="+t+"; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Domain="+n+";"},uniqConcat:function(e,t,n){function r(e){for(var t=0,r=e.length;r>t;t++){var a=e[t];if(a){var c=n(a);i[c]||(i[c]=1,o.push(a))}}}var o=[],i={};return r(e),r(t),o},trim:function(e){return e?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e},extDomain:function(e){var t=e.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return t&&t[1]},getAttribute:function(e,t){var n="";return document.documentElement.hasAttribute||t!==v||(t="className"),e&&e.getAttribute&&(n=e.getAttribute(t,2)),n},isDate:function(e){return"[object Date]"===n.toString.call(e)},isArr:function(e){return"[object Array]"===n.toString.apply(e)},isStr:function(e){return"string"==typeof e},isNum:function(e){return"number"==typeof e&&isFinite(e)},isNumeric:function(e){return e-0==e&&(e+"").replace(/^\s+|\s+$/g,"").length>0},isObj:function(e){return e&&"object"==typeof e},rTN:function(e){try{if(e&&3===e.nodeType)return e.parentNode}catch(t){f(t)}return e},getTarget:function(e){var t=e.target||e.srcElement;return this.rTN(t)},addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},rmEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},aug:function(e,t,n){if(t)for(var r in t)if(this.hasOwn(t,r)){if(n&&!n.call(null,r))continue;e[r]=t[r]}},rmProto:function(e){return e?e.substr(0,7)===l?e.substr(7,e.length):e.substr(0,8)===p?e.substr(8,e.length):e:""},norm:function(e){return null===e?"":(e=""+e,this.trim(e.replace(s," ").replace(u,"")))},_hasClass:function(e,t){var n,r=!1;return e&&t&&(n=this.getAttribute(e,v)||"",r=t.exec?t.test(n):t&&(m+n+m).indexOf(m+t+m)>-1),r},hasClass:function(e,t){if(this.isArr(t)){for(var n=0,r=t.length;r>n;n++)if(this._hasClass(e,t[n]))return!0;return!1}return this.isStr(t)?this._hasClass(e,t):!1},quote:function(e){var t=/["\\\x00-\x1f\x7f-\x9f]/g,n={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r='"',o='"';if(e.match(t)){var i=e.replace(t,function(e){var t=n[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(e%16).toString(16))});return r+i+r}return o+e+o},/* @license
Copyright 2013 jQuery Foundation and other contributors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
 */
sfy:function(e){if(!e&&""!==e)return{};var t,n=typeof e;if("undefined"===n)return"undefined";if("number"===n||"boolean"===n)return""+e;if("string"===n)return this.quote(e);if("function"==typeof e.toJSON)return this.sfy(e.toJSON());if(this.isDate(e)){var r=e.getUTCMonth()+1,o=e.getUTCDate(),i=e.getUTCFullYear(),a=e.getUTCHours(),c=e.getUTCMinutes(),u=e.getUTCSeconds(),s=e.getUTCMilliseconds();return 10>r&&(r="0"+r),10>o&&(o="0"+o),10>a&&(a="0"+a),10>c&&(c="0"+c),10>u&&(u="0"+u),100>s&&(s="0"+s),10>s&&(s="0"+s),'"'+i+"-"+r+"-"+o+"T"+a+":"+c+":"+u+"."+s+'Z"'}if(t=[],this.isArr(e)){for(var l=0,d=e.length;d>l;l++)t.push(this.sfy(e[l]));return"["+t.join(",")+"]"}if("object"===n){for(var f in e)if(this.hasOwn(e,f)){var p=typeof f,v=null;if("string"===p)v=this.quote(f);else{if("number"!==p)continue;v='"'+f+'"'}if(p=typeof e[f],"function"!==p&&"undefined"!==p){var m="";m=null===e[f]?'""':0===e[f]?0:this.sfy(e[f]),t.push(v+":"+m)}}return"{"+t.join(",")+"}"}},toJSON:function(){var e=null;return function(t){return e||(e="object"==typeof JSON&&JSON.stringify&&6!==_&&7!==_&&8!==_?JSON.stringify:this.sfy),e.call(this,t)}}(),executeOnLoad:function(e){var t=!1,n=function(n){(document.addEventListener||n&&"load"===n.type||"complete"===document.readyState)&&(t=!0,r(),e.call(this))},r=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",n,!1),window.removeEventListener("load",n,!1)):(document.detachEvent("onreadystatechange",n),window.detachEvent("onload",n))};if("complete"===document.readyState)setTimeout(n);else if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else{document.attachEvent("onreadystatechange",n),window.attachEvent("onload",n);var o=!1;try{o=null==window.frameElement&&document.documentElement}catch(i){}o&&o.doScroll&&function a(){if(!t){try{o.doScroll("left")}catch(n){return setTimeout(a,50)}r(),e.call(this)}}()}},getLinkContent:function(e){for(var t,n=0,r="";(t=e.childNodes[n])&&t;n++)1===t.nodeType&&("img"===t.nodeName.toLowerCase()&&(r+=(this.getAttribute(t,"alt")||"")+" "),r+=this.getLinkContent(t));return r},fData:function(e){return this.isStr(e)?e:this.toJSON(e)},getLT:function(e,t){if(!e)return"_";var n="";return t=t.toLowerCase(),n="input"===e.nodeName.toLowerCase()?this.getAttribute(e,"value"):"text"===t?o?e.textContent:e.innerText?e.innerText:e.textContent:"href"===t?this.rmProto(this.getAttribute(e,"href")):this.getAttribute(e,t)||"",n=this.norm(n),""===n&&(n=this.norm(this.getLinkContent(e)),n||(n=this.norm(this.rmProto(this.getAttribute(e,"href"))))),""===n?"_":n},clref:function(e){if(0!==e.indexOf(l)&&0!==e.indexOf(p))return"";var t=this.strip(e);return t.clean||t.url},cold:function(){return screen?screen.colorDepth||screen.pixelDepth:"unknown"},sr:function(e){return screen?screen.width+(e?e:",")+screen.height:""},xy:function(e){function t(){var e=document.documentElement,t=document.body;return e&&(e.scrollTop||e.scrollLeft)?[e.scrollTop,e.scrollLeft]:t?[t.scrollTop,t.scrollLeft]:[0,0]}var n=null,o=e.pageX,i=e.pageY;return r&&(n=t()),o||0===o||(o=e.clientX||0,r&&(o+=n[1])),i||0===i||(i=e.clientY||0,r&&(i+=n[0])),o+","+i},hasCC:function(e){for(var t=0,n=e.length;n>t;t++){var r=e.charCodeAt(t);if(32>r||"="===r)return!0}return!1},isValidPair:function(e,t){return e.length>8||t.length>j.MAX_VALUE_LENGTH?(d("Invalid key/value pair ("+e+"="+t+") Size must be < 8/300 respectively."),!1):!0},ser:function(e,t){if(!e)return"";void 0===typeof t&&(t=!0);var n=[],r="";for(var o in e)if(this.hasOwn(e,o)){var i=o,a=e[o];if(null===i||null===a)continue;if(i+="",a+="",a.length>j.MAX_VALUE_LENGTH&&(a=a.substring(0,j.MAX_VALUE_LENGTH)),!this.isValidPair(i,a))continue;if(!this.hasCC(i)&&!this.hasCC(a)){r="",a=this.trim(a),""!==a&&" "!==a||!t||(a="_");try{r=this.enc(i+""+a),j.isSafari&&(r=r.replace(/'/g,"%27"))}catch(c){r="_ERR_ENCODE_",f(c)}n.push(r)}}return n.join(this.cd)},rand:function(){for(var e=0,t="",n="";16>e++;){var r=Math.floor(62*Math.random());n=10>r?r:String.fromCharCode(36>r?r+55:r+61),t+=n}return t},tms:function(){return+new Date},cookEn:function(){var e=navigator.cookieEnabled?1:0,t="rapidtc";return void 0!==navigator.cookieEnabled||e||(document.cookie=t+"=1",e=-1!=document.cookie.indexOf("testcookie")?!0:!1,document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"),e},isResCF:function(e){var t={14:1,15:1,18:1,19:1,20:1};return t[e]},isTagOfInterest:function(e,t){for(var n=0,r=t.length;r>n;n++)if(e.tagName&&e.tagName.toLowerCase()==t[n].toLowerCase())return!0;return!1}}}("undefined"==typeof console||console.log===void 0)&&(console={log:function(){}}),console.error===void 0&&(console.error=console.log),console.warn===void 0&&(console.warn=console.log),t.prototype={ser:function(){return j.ser(this.map)},set:function(e,t){var n=t?j.norm(t):t;(void 0===n||null===n)&&(n=""),null!==n&&j.isStr(n)&&(n=n.replace(/\\/g,"\\\\")),n.length>j.MAX_VALUE_LENGTH&&(n=n.substring(0,j.MAX_VALUE_LENGTH)),j.isValidPair(e,n)&&(this.map[j.norm(e)]=n,this.count++)},get:function(e){return this.map[e]},getAll:function(){return this.map},absorb:function(e){if(e&&j.isObj(e))for(var t in e)j.hasOwn(e,t)&&this.set(t,e[t])},absorb_filter:function(e,t){if(e&&j.isObj(e))for(var n in e)(!t||t.call(null,n))&&j.hasOwn(e,n)&&this.set(n,e[n])},getSize:function(){return this.count}},n.prototype=new t,n.prototype.constructor=t,r.prototype=new t,r.prototype.constructor=t,n.makeFromPP=function(e){var t=new n;return e&&t.absorb(e.getAll()),t};var Y=new n,j=V(e),H=new A,U={none:0,gzip:1,lzw:2,deflate:3};v.prototype={getYWAFPC:function(){if(!W.ywa)return null;var e=this.cookieMap["fpc"+W.ywa.project_id],t=this.cookieMap.fpc,n=w(t),r=null;if(t&&(r=n[W.ywa.project_id]),e&&(j.clearCookie("fpc"+W.ywa.project_id),!r)){n[W.ywa.project_id]=e;var o=y(n);_("fpc",o,31536e4),r=e}return r?r:null},getCookieByName:function(e){return this.cookieMap[e]},getYWADPID:function(){if(W.ywa){var e,t="ywandp",n="ywadp"+W.ywa.project_id,r=w(this.cookieMap[t]),o=r[W.ywa.project_id];if(void 0===o||null===o||""===o){e=this.cookieMap[n],r[W.ywa.project_id]=e?e:g(),o=r[W.ywa.project_id];var i=y(r);_(t,i,31536e4),this.cookieMap[t]=i}W.ywa_dpid=o}}};var W=u(e),q=b(),B=null,X=null;return R(),{init:function(){},beaconEvent:function(e,t,n){W.ldbg&&p('beaconEvent: event="'+e+'" data='+j.fData(t)+" outcome="+n);var r=L(0,e,t,n);q.sendEvents(r)},beaconRichView:function(e,t){W.ldbg&&p("beaconRichView: outcome="+t);var n=L("richview","",e,t);q.sendEvents(n)},beaconClick:function(e,t,n,r,o){!r&&o&&(r={}),o&&(r.outcm=o),q.sendClick(x(e,t,n,r,o))},addModules:function(e,t,n){W.ldbg&&p("addModules() called: mods="+j.fData(e)+" isPage: "+t),n=n||{};var r={A_am:1};n.pp&&j.aug(r,n.pp);var o=!1;switch(t||(t=!1),t){case 1:case"1":case!0:t=!0;break;case 2:case"2":o=!0,t=!1,n.event=L("contentmodification","",{});break;case 0:case"0":case!1:default:t=!1}if(!W.yql_enabled)return t?P(r,!1):n.event&&this.beaconRichView(r,n.event.outcome),void 0;n&&n.event&&t&&(f("Cannot track event type and pageview at same time."),n.event=null);var i=H.addModules(e);(0!==i.length||n.event)&&((W.USE_RAPID||n.event)&&(t||n.event||n.pp?(n.event&&n.event.data&&j.aug(r,n.event.data),q.sendRapidNoDelay(i,t,r,n)):q.sendRapid(i,t,r,n)),t===!0&&(W.ywa&&q.sendYWAPV(r),W.apv&&B&&B.reInit()))},addModulesAsRichView:function(e,t){var n=L("richview","",{},t),r=!0;this.addModules(e,!1,{event:n}),W.yql_enabled||(r=!1),W.ywa&&r&&q.sendYWAEvent(n)},refreshModule:function(e,t,n,r){W.ldbg&&p("refreshModule called: mod="+e+" isPV: "+t+" sendLinks: "+n+" options: "+j.fData(r));var o=!1;switch(r=r||{},t||(t=!1),t){case 1:case"1":case!0:t=!0;break;case 2:case"2":o=!0,t=!1,r.event=L("contentmodification","",{});break;case 0:case"0":case!1:default:t=!1}if(!W.yql_enabled){var i=r.pp||{};return t?P(i,!1):r.event&&this.beaconRichView(i,r.event.outcome),void 0}var a=n===!1?!1:!0;t&&r&&r.event&&(r.event=null),H.refreshModule(e,t,a,r)},refreshModuleAsRichView:function(e,t){var n=L("richview","",{},t),r=!0;this.refreshModule(e,!1,!0,{event:n}),W.yql_enabled||(r=!1),W.ywa&&r&&q.sendYWAEvent(n)},removeModule:function(e){H.removeModule(e)},isModuleTracked:function(e){return W.ldbg&&p("isTracked called: "+e),H&&void 0!==H.exists(e)},destroy:function(){p("destroy called"),H.destroy(),null!==B&&(B.destroy(),B=null)},reInit:function(e){return W.ldbg&&p("reInit called with: "+j.fData(e)),e=e||{},e.spaceid?(Y=new n,W=u(e),j=V(e),void 0):(f("Invalid spid in reInit config: "+j.fData(e)),void 0)},beaconPageview:function(e){P(e,!0)},beaconECommerce:function(e,t){W.ywa&&q.sendYWAECommerce(e,t)},beaconInternalSearch:function(e,t){W.ywa&&q.sendInternalSearch(e,t)},getCurrentSID:function(){return Y.get("A_sid")},notifyHistoryPushStateCalled:function(){browserEventManager.historyStateChanged()},beaconLinkViews:function(e,t,n){W.ldbg&&p("beaconLinkViews() called: eventType: "+a),n=n||{};var o={A_lv:2};n.pp&&j.aug(o,n.pp);var i=!1,a=!1;switch(t){case 1:case"1":case!0:a=!0;break;case 2:case"2":i=!0,a=!1,n.event=L("contentmodification","",{});break;case 0:case"0":case!1:default:a=!1}if(!W.yql_enabled)return a?P(o,!1):n.event&&this.beaconRichView(o,n.event.outcome),void 0;if(n&&n.event&&a&&(f("Cannot track event type and pageview at same time."),n.event=null),0!==e.length||n.event){var c=[];e.forEach(function(e){var t=new r;t.absorb_filter(e,function(e){return"sec"!=e&&"_links"!=e});var n=[],o=1;e._links.forEach(function(t){var r={sec:e.sec,_p:o++};j.aug(r,t),n.push(r)});var i={moduleName:e.sec,moduleYLK:t,links:n};c.push(i)}),(W.USE_RAPID||n.event)&&(a||n.event||n.pp?(n.event&&n.event.data&&j.aug(o,n.event.data),q.sendRapidNoDelay(c,a,o,n)):q.sendRapid(c,a,o,n))}}}};YUI.add('rapid-tracker', function (Y) {

	var active = false, ybeacon;

	var rapidTracker = {
		ok: active,
		_queue: [],

		init: function(conf) {
			var i, len,
			    myEvent;
			if (!active) {
				Y.one('body').on('click', function(e) {
					var link = e.target.ancestor('.ywa-track', true);

					if (link) {
						rapidTracker.beacon(link.getAttribute('data-ywa-name'));
					}
				});
			}

			try {
				ybeacon = new (YAHOO.i13n.Rapid || YAHOO.i13n.Track)(conf);
				ybeacon.init();
				Y.mix(this, ybeacon);

				for (i = 0, len = this._queue.length; i < len; i++) {
					myEvent = this._queue.shift();
					this.beaconEvent(myEvent.key, myEvent.data);
				}

				active = true;
			} catch(e) {
				active = false;
			}
		},

		// prevent race condition if modules want to beacon events before init
		beacon: function(stringKey, objValue) {
			if (!objValue) { objValue = ''; }

			if (!ybeacon) {
				this._queue.push({
					key: stringKey,
					data: objValue
				});
			} else {
				ybeacon.beaconEvent(stringKey, objValue);
			}
		},

		stripQueryParams: function(keys) {

			var loc = window.location,
			    hist = window.history,
			    queryStringObj,
			    queryString,
			    found = false;

			if (loc.search && hist.replaceState) {

				queryStringObj = Y.QueryString.parse(loc.search.replace('?', ''));

				keys.forEach(function (key) {
					if (key in queryStringObj) {
						delete queryStringObj[key];
						found = true;
					}
				});

				if (found) {
					queryString = Y.QueryString.stringify(queryStringObj);
					try {
						hist.replaceState({}, '', loc.pathname + (queryString ? '?' + queryString : ''));
					} catch (e) {
						// sometimes replaceState fails
					}
				}
			}
		}
	};

	Y.rapidTracker = rapidTracker;

}, '1.0.0');YUI.add("nav-selecta-rapid",function(b){var a={search:/\/search\/\?q=.+/i,search_my_photos:/\/search\/\?w=[0-9]+\@N[0-9]+\&q=.+/i,search_my_contacts:/\/search\/\?w=contacts\&q=.+/i,search_groups:/\/search\/groups\/\?q=.+/i,search_users:/\/search\/people\/\?m=names&q=.+/i,contact_photostream:/^\/photos\/[a-z]+\/?/i};b.on("NavSelecta:beforeNavigatingAway",function(d){var c;if(d.indexOf("?")===-1&&d.indexOf("/photos/")!==0){b.rapidTracker.beaconClick("searchform",d);return}if(d.indexOf("/photos/me")===0){b.rapidTracker.beaconClick("searchform","my_photostream");return}for(c in a){if(a.hasOwnProperty(c)){if(d.match(a[c])){b.rapidTracker.beaconClick("searchform",c);return}}}})},"0.0.1",{requires:F.config.modules["nav-selecta-rapid"].requires||[]});